Poster,Pre-Comment,Comment,Label
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,sau 2 thÃ¡ng em Ä‘Ã£ Ä‘á»c hiá»ƒu thk anh ğŸ™,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Tá»« bÃ i viáº¿t nÃ y mÃ¬nh cÅ©ng muá»‘n nháº¯c nhá»Ÿ má»i ngÆ°á»i cáº©n tháº­n khi cÃ i nhá»¯ng extension khÃ´ng rÃµ nguá»“n gá»‘c, vÃ¬ nhÆ° máº¥y báº¡n tháº¥y nÃ³ cÃ³ thá»ƒ truy cáº­p vÃ o nhá»¯ng thÃ´ng tin cÃ¡ nhÃ¢n, tin nháº¯n cÃ¡ nhÃ¢n. ÄÃ¢y lÃ  mÃ¬nh cÃ²n lÆ°Æ¡ng tÃ¢m, mÃ¬nh chÆ°a thÃªm code gá»­i tin nháº¯n cá»§a máº¥y báº¡n tá»›i server cá»§a mÃ¬nh :)) Náº¿u Ä‘á»ƒ ngÆ°á»i xáº¥u lá»£i dá»¥ng, táº¡o extension chá»©a mÃ£ Ä‘á»™c, thÃ¬ thÃ´ng tin cá»§a máº¥y báº¡n Ä‘i Ä‘á»i luÃ´n Ã¡",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Tá»« bÃ i viáº¿t nÃ y mÃ¬nh cÅ©ng muá»‘n nháº¯c nhá»Ÿ má»i ngÆ°á»i cáº©n tháº­n khi cÃ i nhá»¯ng extension khÃ´ng rÃµ nguá»“n gá»‘c, vÃ¬ nhÆ° máº¥y báº¡n tháº¥y nÃ³ cÃ³ thá»ƒ truy cáº­p vÃ o nhá»¯ng thÃ´ng tin cÃ¡ nhÃ¢n, tin nháº¯n cÃ¡ nhÃ¢n. ÄÃ¢y lÃ  mÃ¬nh cÃ²n lÆ°Æ¡ng tÃ¢m, mÃ¬nh chÆ°a thÃªm code gá»­i tin nháº¯n cá»§a máº¥y báº¡n tá»›i server cá»§a mÃ¬nh :)) Náº¿u Ä‘á»ƒ ngÆ°á»i xáº¥u lá»£i dá»¥ng, táº¡o extension chá»©a mÃ£ Ä‘á»™c, thÃ¬ thÃ´ng tin cá»§a máº¥y báº¡n Ä‘i Ä‘á»i luÃ´n Ã¡', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'ThÃ nh Long bÃ¡c chá» mai lÃ  cÃ³ báº£n má»›i nhÃ©', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'ThÃ nh Long bÃ¡c chá» mai lÃ  cÃ³ báº£n má»›i nhÃ©', 'TrÆ°á»›c háº¿t báº¡n cáº§n qua Ä‘Æ°á»£c kiá»ƒm duyá»‡t cá»§a chrome store Ä‘Ã£ ğŸ˜€']",Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Tá»« bÃ i viáº¿t nÃ y mÃ¬nh cÅ©ng muá»‘n nháº¯c nhá»Ÿ má»i ngÆ°á»i cáº©n tháº­n khi cÃ i nhá»¯ng extension khÃ´ng rÃµ nguá»“n gá»‘c, vÃ¬ nhÆ° máº¥y báº¡n tháº¥y nÃ³ cÃ³ thá»ƒ truy cáº­p vÃ o nhá»¯ng thÃ´ng tin cÃ¡ nhÃ¢n, tin nháº¯n cÃ¡ nhÃ¢n. ÄÃ¢y lÃ  mÃ¬nh cÃ²n lÆ°Æ¡ng tÃ¢m, mÃ¬nh chÆ°a thÃªm code gá»­i tin nháº¯n cá»§a máº¥y báº¡n tá»›i server cá»§a mÃ¬nh :)) Náº¿u Ä‘á»ƒ ngÆ°á»i xáº¥u lá»£i dá»¥ng, táº¡o extension chá»©a mÃ£ Ä‘á»™c, thÃ¬ thÃ´ng tin cá»§a máº¥y báº¡n Ä‘i Ä‘á»i luÃ´n Ã¡', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'ThÃ nh Long bÃ¡c chá» mai lÃ  cÃ³ báº£n má»›i nhÃ©', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'ThÃ nh Long bÃ¡c chá» mai lÃ  cÃ³ báº£n má»›i nhÃ©', 'TrÆ°á»›c háº¿t báº¡n cáº§n qua Ä‘Æ°á»£c kiá»ƒm duyá»‡t cá»§a chrome store Ä‘Ã£ ğŸ˜€']",ThÃ nh Long bÃ¡c chá» mai lÃ  cÃ³ báº£n má»›i nhÃ©,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Tá»« bÃ i viáº¿t nÃ y mÃ¬nh cÅ©ng muá»‘n nháº¯c nhá»Ÿ má»i ngÆ°á»i cáº©n tháº­n khi cÃ i nhá»¯ng extension khÃ´ng rÃµ nguá»“n gá»‘c, vÃ¬ nhÆ° máº¥y báº¡n tháº¥y nÃ³ cÃ³ thá»ƒ truy cáº­p vÃ o nhá»¯ng thÃ´ng tin cÃ¡ nhÃ¢n, tin nháº¯n cÃ¡ nhÃ¢n. ÄÃ¢y lÃ  mÃ¬nh cÃ²n lÆ°Æ¡ng tÃ¢m, mÃ¬nh chÆ°a thÃªm code gá»­i tin nháº¯n cá»§a máº¥y báº¡n tá»›i server cá»§a mÃ¬nh :)) Náº¿u Ä‘á»ƒ ngÆ°á»i xáº¥u lá»£i dá»¥ng, táº¡o extension chá»©a mÃ£ Ä‘á»™c, thÃ¬ thÃ´ng tin cá»§a máº¥y báº¡n Ä‘i Ä‘á»i luÃ´n Ã¡', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'ThÃ nh Long bÃ¡c chá» mai lÃ  cÃ³ báº£n má»›i nhÃ©', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'ThÃ nh Long bÃ¡c chá» mai lÃ  cÃ³ báº£n má»›i nhÃ©', 'TrÆ°á»›c háº¿t báº¡n cáº§n qua Ä‘Æ°á»£c kiá»ƒm duyá»‡t cá»§a chrome store Ä‘Ã£ ğŸ˜€']",TrÆ°á»›c háº¿t báº¡n cáº§n qua Ä‘Æ°á»£c kiá»ƒm duyá»‡t cá»§a chrome store Ä‘Ã£ ğŸ˜€,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Tá»« bÃ i viáº¿t nÃ y mÃ¬nh cÅ©ng muá»‘n nháº¯c nhá»Ÿ má»i ngÆ°á»i cáº©n tháº­n khi cÃ i nhá»¯ng extension khÃ´ng rÃµ nguá»“n gá»‘c, vÃ¬ nhÆ° máº¥y báº¡n tháº¥y nÃ³ cÃ³ thá»ƒ truy cáº­p vÃ o nhá»¯ng thÃ´ng tin cÃ¡ nhÃ¢n, tin nháº¯n cÃ¡ nhÃ¢n. ÄÃ¢y lÃ  mÃ¬nh cÃ²n lÆ°Æ¡ng tÃ¢m, mÃ¬nh chÆ°a thÃªm code gá»­i tin nháº¯n cá»§a máº¥y báº¡n tá»›i server cá»§a mÃ¬nh :)) Náº¿u Ä‘á»ƒ ngÆ°á»i xáº¥u lá»£i dá»¥ng, táº¡o extension chá»©a mÃ£ Ä‘á»™c, thÃ¬ thÃ´ng tin cá»§a máº¥y báº¡n Ä‘i Ä‘á»i luÃ´n Ã¡', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'ThÃ nh Long bÃ¡c chá» mai lÃ  cÃ³ báº£n má»›i nhÃ©', 'Hoang Tran Bá»‹ nhÆ° nÃ y lÃ  sao bÃ¡c nhá»‰', 'ThÃ nh Long bÃ¡c chá» mai lÃ  cÃ³ báº£n má»›i nhÃ©', 'TrÆ°á»›c háº¿t báº¡n cáº§n qua Ä‘Æ°á»£c kiá»ƒm duyá»‡t cá»§a chrome store Ä‘Ã£ ğŸ˜€']",Viá»‡t Tháº£o cÃ³ nhá»¯ng extension cÃ³ thá»ƒ táº£i file vá» cÃ i qua dev mode chá»© Ä‘Ã¢u pháº£i cÃ¡i gÃ¬ cÅ©ng qua kiá»ƒm duyá»‡t cá»§a chrome store Ä‘Ã¢u,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nguyá»…n VÄƒn Hiá»‡p thÃªm cÃ¡i nÃ¬ cho cÃ¡i extension cá»§a páº¡ng ik ğŸ¥º,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Tráº§n Tháº¿ Hiá»ƒn sr nÃ£y tag nháº§m bÃ i bÃªn 3s team,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Karin Krin ğŸ¥² chá»i quÆ¡i cÃ³ xÃ³a hÃ¬ cÅ©ng cÃ³ cÃ¡ch Ä‘á»c láº¡i dc,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,PhÃº Thuáº­n,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Ã€ máº¥y bÃ¡c cho e há»i kÃ© luÃ´n vá»›i, chá»© mÃ  Ä‘Äƒng bÃ i chá» duyá»‡t cÃ³ khi tá»›i háº¿t dá»‹ch luÃ´n. PC cá»§a e dáº¡o gáº§n Ä‘Ã¢y bá»‹ full á»• cá»©ng má»™t cÃ¡ch báº¥t thÆ°á»ng. HÃ´m qua cÃ²n trá»‘ng 37GB nÃ y cÃ²n 20GB. KhÃ´ng biáº¿t nguyÃªn nhÃ¢n táº¡i sao, Ä‘Ã£ thá»­ dá»n thÃ¹ng rÃ¡c, windows update, Ä‘Ã£ lÃ m theo má»™t sá»‘ hÆ°á»›ng dáº«n trÃªn máº¡ng nhÆ° khÃ´ng kháº£ thi. BÃ¡c nÃ o biáº¿t hoáº·c tá»«ng bá»‹ giÃºp e vá»›i. E cáº£m Æ¡n. DÆ°á»›i lÃ  hÃ¬nh á»• C ğŸ˜­ğŸ˜­ğŸ˜­",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Ã€ máº¥y bÃ¡c cho e há»i kÃ© luÃ´n vá»›i, chá»© mÃ  Ä‘Äƒng bÃ i chá» duyá»‡t cÃ³ khi tá»›i háº¿t dá»‹ch luÃ´n. PC cá»§a e dáº¡o gáº§n Ä‘Ã¢y bá»‹ full á»• cá»©ng má»™t cÃ¡ch báº¥t thÆ°á»ng. HÃ´m qua cÃ²n trá»‘ng 37GB nÃ y cÃ²n 20GB. KhÃ´ng biáº¿t nguyÃªn nhÃ¢n táº¡i sao, Ä‘Ã£ thá»­ dá»n thÃ¹ng rÃ¡c, windows update, Ä‘Ã£ lÃ m theo má»™t sá»‘ hÆ°á»›ng dáº«n trÃªn máº¡ng nhÆ° khÃ´ng kháº£ thi. BÃ¡c nÃ o biáº¿t hoáº·c tá»«ng bá»‹ giÃºp e vá»›i. E cáº£m Æ¡n. DÆ°á»›i lÃ  hÃ¬nh á»• C ğŸ˜­ğŸ˜­ğŸ˜­', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'ÄoÃ n Äv ok khÃ´ng cÃ³ gÃ¬']",bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Ã€ máº¥y bÃ¡c cho e há»i kÃ© luÃ´n vá»›i, chá»© mÃ  Ä‘Äƒng bÃ i chá» duyá»‡t cÃ³ khi tá»›i háº¿t dá»‹ch luÃ´n. PC cá»§a e dáº¡o gáº§n Ä‘Ã¢y bá»‹ full á»• cá»©ng má»™t cÃ¡ch báº¥t thÆ°á»ng. HÃ´m qua cÃ²n trá»‘ng 37GB nÃ y cÃ²n 20GB. KhÃ´ng biáº¿t nguyÃªn nhÃ¢n táº¡i sao, Ä‘Ã£ thá»­ dá»n thÃ¹ng rÃ¡c, windows update, Ä‘Ã£ lÃ m theo má»™t sá»‘ hÆ°á»›ng dáº«n trÃªn máº¡ng nhÆ° khÃ´ng kháº£ thi. BÃ¡c nÃ o biáº¿t hoáº·c tá»«ng bá»‹ giÃºp e vá»›i. E cáº£m Æ¡n. DÆ°á»›i lÃ  hÃ¬nh á»• C ğŸ˜­ğŸ˜­ğŸ˜­', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'ÄoÃ n Äv ok khÃ´ng cÃ³ gÃ¬']",Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Ã€ máº¥y bÃ¡c cho e há»i kÃ© luÃ´n vá»›i, chá»© mÃ  Ä‘Äƒng bÃ i chá» duyá»‡t cÃ³ khi tá»›i háº¿t dá»‹ch luÃ´n. PC cá»§a e dáº¡o gáº§n Ä‘Ã¢y bá»‹ full á»• cá»©ng má»™t cÃ¡ch báº¥t thÆ°á»ng. HÃ´m qua cÃ²n trá»‘ng 37GB nÃ y cÃ²n 20GB. KhÃ´ng biáº¿t nguyÃªn nhÃ¢n táº¡i sao, Ä‘Ã£ thá»­ dá»n thÃ¹ng rÃ¡c, windows update, Ä‘Ã£ lÃ m theo má»™t sá»‘ hÆ°á»›ng dáº«n trÃªn máº¡ng nhÆ° khÃ´ng kháº£ thi. BÃ¡c nÃ o biáº¿t hoáº·c tá»«ng bá»‹ giÃºp e vá»›i. E cáº£m Æ¡n. DÆ°á»›i lÃ  hÃ¬nh á»• C ğŸ˜­ğŸ˜­ğŸ˜­', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'ÄoÃ n Äv ok khÃ´ng cÃ³ gÃ¬']","Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Ã€ máº¥y bÃ¡c cho e há»i kÃ© luÃ´n vá»›i, chá»© mÃ  Ä‘Äƒng bÃ i chá» duyá»‡t cÃ³ khi tá»›i háº¿t dá»‹ch luÃ´n. PC cá»§a e dáº¡o gáº§n Ä‘Ã¢y bá»‹ full á»• cá»©ng má»™t cÃ¡ch báº¥t thÆ°á»ng. HÃ´m qua cÃ²n trá»‘ng 37GB nÃ y cÃ²n 20GB. KhÃ´ng biáº¿t nguyÃªn nhÃ¢n táº¡i sao, Ä‘Ã£ thá»­ dá»n thÃ¹ng rÃ¡c, windows update, Ä‘Ã£ lÃ m theo má»™t sá»‘ hÆ°á»›ng dáº«n trÃªn máº¡ng nhÆ° khÃ´ng kháº£ thi. BÃ¡c nÃ o biáº¿t hoáº·c tá»«ng bá»‹ giÃºp e vá»›i. E cáº£m Æ¡n. DÆ°á»›i lÃ  hÃ¬nh á»• C ğŸ˜­ğŸ˜­ğŸ˜­', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'ÄoÃ n Äv ok khÃ´ng cÃ³ gÃ¬']",ÄoÃ n Äv ok khÃ´ng cÃ³ gÃ¬,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Ã€ máº¥y bÃ¡c cho e há»i kÃ© luÃ´n vá»›i, chá»© mÃ  Ä‘Äƒng bÃ i chá» duyá»‡t cÃ³ khi tá»›i háº¿t dá»‹ch luÃ´n. PC cá»§a e dáº¡o gáº§n Ä‘Ã¢y bá»‹ full á»• cá»©ng má»™t cÃ¡ch báº¥t thÆ°á»ng. HÃ´m qua cÃ²n trá»‘ng 37GB nÃ y cÃ²n 20GB. KhÃ´ng biáº¿t nguyÃªn nhÃ¢n táº¡i sao, Ä‘Ã£ thá»­ dá»n thÃ¹ng rÃ¡c, windows update, Ä‘Ã£ lÃ m theo má»™t sá»‘ hÆ°á»›ng dáº«n trÃªn máº¡ng nhÆ° khÃ´ng kháº£ thi. BÃ¡c nÃ o biáº¿t hoáº·c tá»«ng bá»‹ giÃºp e vá»›i. E cáº£m Æ¡n. DÆ°á»›i lÃ  hÃ¬nh á»• C ğŸ˜­ğŸ˜­ğŸ˜­', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'bÃ¡c táº£i windirstat vá» xem á»• nÃ o Ä‘ang tÄƒng vá»›i nhiá»u dung lÆ°á»£ng thá»­ xem', 'Ã”ng Danh Beo dáº¡ Ä‘Ã¢y bÃ¡c Æ¡i. mÃ  e tÃ¬m file Ä‘Ã³ ko tháº¥y', 'Ã  e tháº¥y rá»“i, cáº£m Æ¡n bÃ¡c', 'ÄoÃ n Äv ok khÃ´ng cÃ³ gÃ¬']","ÄoÃ n Äv nhÆ° ngÃ y trÆ°á»›c thÃ¬ em cÃ i microsoft sql thÃ¬ trÃºng báº£n lá»—i, database cá»§a em nÃ³ má»—i ngÃ y tá»± sinh ra file dump ngÃ y ngÃ y phÃ¬nh ra 5gb mÃ  k hiá»ƒu Ä‘Ã¢u ra mÃ£i má»›i tÃ¬m dc nguyÃªn nhÃ¢n =)) em thÃ¬ em dÃ¹ng folder size app ngoÃ i Ä‘á»ƒ coi tá»«ng dc tá»«ng thÆ° má»¥c nÃ o cÃ¡i náº·ng báº¥t thÆ°á»ng Ä‘á»ƒ tÃ¬m ra.",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Xá»‹n quÃ¡ váº­y :)))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Xá»‹n quÃ¡ váº­y :))))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Trang Chanp Æ¡ dáº¡o nÃ y HÆ°á»n tiáº¿n bá»™ rá»“i :))))']",Loan TÃ´ cÃ i tool chÆ°a :))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Xá»‹n quÃ¡ váº­y :))))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Trang Chanp Æ¡ dáº¡o nÃ y HÆ°á»n tiáº¿n bá»™ rá»“i :))))']","Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Xá»‹n quÃ¡ váº­y :))))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Trang Chanp Æ¡ dáº¡o nÃ y HÆ°á»n tiáº¿n bá»™ rá»“i :))))']",Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Xá»‹n quÃ¡ váº­y :))))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Trang Chanp Æ¡ dáº¡o nÃ y HÆ°á»n tiáº¿n bá»™ rá»“i :))))']",Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Xá»‹n quÃ¡ váº­y :))))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Trang Chanp Æ¡ dáº¡o nÃ y HÆ°á»n tiáº¿n bá»™ rá»“i :))))']",Trang Chanp Æ¡ dáº¡o nÃ y HÆ°á»n tiáº¿n bá»™ rá»“i :)))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Xá»‹n quÃ¡ váº­y :))))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Loan TÃ´ cÃ i tool chÆ°a :)))', 'Nguyen Thuong Minh ChÆ°a, anh Ä‘á»ƒ dÃ nh khi nÃ o cÃ³ báº£n hoÃ n thiá»‡n thÃ¬ cÃ i :)))', 'Pháº¡m HÆ°á»ng m nghÄ© m thoÃ¡t khá»i tay c Loan TÃ´ Ã¡', 'Trang Chanp thÃ´i Ä‘Æ°á»£t rá»“i em thuağŸ˜­ğŸ˜­ğŸ˜­', 'Trang Chanp Æ¡ dáº¡o nÃ y HÆ°á»n tiáº¿n bá»™ rá»“i :))))']",Loan TÃ´ lÃ¢u láº¯m em má»›i Ä‘c chá»‹ Loan khen ğŸ˜˜ğŸ˜˜ğŸ˜˜ğŸ˜˜,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Ngá»c Mai hÃª hÃª,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Pháº¡m Vá»¹ tag m Ä‘á»ƒ m Ä‘á»c dÃ¹m,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,like cho bÃ¡c vÃ¬ sau 2000 nÄƒm lÃ m regex,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"cÃ¡i nÃ y chá»‰ xem láº¡i Ä‘Æ°á»£c ngay lÃºc Ä‘Ã³ , chá»© k xem Ä‘Æ°á»£c tin Ä‘Ã£ thu há»“i qua trong quÃ¡ khá»© nhá» :D",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cÃ¡i nÃ y chá»‰ xem láº¡i Ä‘Æ°á»£c ngay lÃºc Ä‘Ã³ , chá»© k xem Ä‘Æ°á»£c tin Ä‘Ã£ thu há»“i qua trong quÃ¡ khá»© nhá» :D', 'Äinh Äá»©c Thi tham lam']",Äinh Äá»©c Thi tham lam,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cÃ¡i nÃ y chá»‰ xem láº¡i Ä‘Æ°á»£c ngay lÃºc Ä‘Ã³ , chá»© k xem Ä‘Æ°á»£c tin Ä‘Ã£ thu há»“i qua trong quÃ¡ khá»© nhá» :D', 'Äinh Äá»©c Thi tham lam']",Le The Hung haha tham thÃ¬ pháº£i tham cho trÃ³t :V,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:
https://youtu.be/tsMgMZtKWek",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",Truong Dang Duong vÃ¢ng bÃ¡c :333,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",LÃª Quá»‘c BÃ¬nh idol,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :)),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['ai muoÌ‚Ìn nhanh goÌ£n leÌ£ hoÌ›n thiÌ€ xaÌ€i luoÌ‚n KB2A Tool cho nhanh nha:\nhttps://youtu.be/tsMgMZtKWek', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh mÃ¬nh lÃ m giá»‘ng video mÃ  gá»¡ tn lÃ  máº¥t luÃ´n :3', 'SÃ i kb2a thÃ¬ ui sáº½ Ä‘áº¹p hÆ¡n vÃ  ráº¥t dá»… thao tÃ¡c', 'Phan Äá»©c Tháº¯ng inbox page KB2A Team Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ vá» tool nha < 3', 'Truong Dang Duong vÃ¢ng bÃ¡c :333', 'LÃª Quá»‘c BÃ¬nh idol trong lÃ²ng eim', 'LÃª Quá»‘c BÃ¬nh idol', 'pr trÃ¡ hÃ¬nh quÃ¡ báº¡n eei', 'LÃª Quá»‘c BÃ¬nh chÃºa tá»ƒ marketing Ã  :))', 'LÃª Quá»‘c BÃ¬nh Ã´ng hoÃ ng cÆ¡ há»™i']",LÃª Quá»‘c BÃ¬nh trÃºa tá»ƒ trank tká»§,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Äá»ƒ custom láº¡i hiá»ƒn thá»‹ trÃªn mess luÃ´n cho tiá»‡n :v,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Mk tháº¥y extension hay láº¡i cÃ²n nhá» gá»n ná»¯a náº¿u bÃ¡c tháº¥y cáº§n thÃ¬ cÃ³ thá»ƒ ib mk, mk sáº½ up lÃªn webstore giÃºp vÃ  má»i credit Ä‘á»u thuá»™c vá» bÃ¡c =)))",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Mk tháº¥y extension hay láº¡i cÃ²n nhá» gá»n ná»¯a náº¿u bÃ¡c tháº¥y cáº§n thÃ¬ cÃ³ thá»ƒ ib mk, mk sáº½ up lÃªn webstore giÃºp vÃ  má»i credit Ä‘á»u thuá»™c vá» bÃ¡c =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Hoang Tran Ä‘c bÃ¡c =))']",Nguyá»…n VÄƒn Hiá»‡p .______.,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Mk tháº¥y extension hay láº¡i cÃ²n nhá» gá»n ná»¯a náº¿u bÃ¡c tháº¥y cáº§n thÃ¬ cÃ³ thá»ƒ ib mk, mk sáº½ up lÃªn webstore giÃºp vÃ  má»i credit Ä‘á»u thuá»™c vá» bÃ¡c =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Hoang Tran Ä‘c bÃ¡c =))']",Vu Hoang Anh kÃ¬a =))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Mk tháº¥y extension hay láº¡i cÃ²n nhá» gá»n ná»¯a náº¿u bÃ¡c tháº¥y cáº§n thÃ¬ cÃ³ thá»ƒ ib mk, mk sáº½ up lÃªn webstore giÃºp vÃ  má»i credit Ä‘á»u thuá»™c vá» bÃ¡c =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Hoang Tran Ä‘c bÃ¡c =))']",Hong coa j dau anh,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Mk tháº¥y extension hay láº¡i cÃ²n nhá» gá»n ná»¯a náº¿u bÃ¡c tháº¥y cáº§n thÃ¬ cÃ³ thá»ƒ ib mk, mk sáº½ up lÃªn webstore giÃºp vÃ  má»i credit Ä‘á»u thuá»™c vá» bÃ¡c =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Hoang Tran Ä‘c bÃ¡c =))']",Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Mk tháº¥y extension hay láº¡i cÃ²n nhá» gá»n ná»¯a náº¿u bÃ¡c tháº¥y cáº§n thÃ¬ cÃ³ thá»ƒ ib mk, mk sáº½ up lÃªn webstore giÃºp vÃ  má»i credit Ä‘á»u thuá»™c vá» bÃ¡c =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Hoang Tran Ä‘c bÃ¡c =))']",Hoang Tran Ä‘c bÃ¡c =)),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Mk tháº¥y extension hay láº¡i cÃ²n nhá» gá»n ná»¯a náº¿u bÃ¡c tháº¥y cáº§n thÃ¬ cÃ³ thá»ƒ ib mk, mk sáº½ up lÃªn webstore giÃºp vÃ  má»i credit Ä‘á»u thuá»™c vá» bÃ¡c =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Nguyá»…n VÄƒn Hiá»‡p .______.', 'Vu Hoang Anh kÃ¬a =)))', 'Hong coa j dau anh', 'Ã¹ Ã´i Ä‘Æ°á»£c luÃ´n háº£ :)))', 'Hoang Tran Ä‘c bÃ¡c =))']",Idol :3,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Cho nhá»¯ng báº¡n chÆ°a biáº¿t cÃ¡ch cÃ i vÃ  cÃ¡ch dÃ¹ng:

1: CÃ€I Äáº¶T: vÃ o Ä‘Æ°á»ng link github mÃ¬nh Ä‘á»ƒ trÃªn stt, rá»“i táº£i code vá», giáº£i nÃ©n. Sau Ä‘Ã³ vÃ o trang quáº£n lÃ½ extensions trong trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n lÃ  xong (nhá»› báº­t dáº¥u tÃ­ch Developer mode lÃªn má»›i kÃ©o tháº£ vÃ´ Ä‘Æ°á»£c nhÃ©)

2: Sá»¬ Dá»¤NG: F5 láº¡i trang facebook lÃ  extension sáº½ tá»± cháº¡y. áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console trÃªn trÃ¬nh duyá»‡t. Trong console nÃ³ sáº½ ghi láº¡i táº¥t cáº£ tin nháº¯n tá»›i vÃ  Ä‘i. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, cÃ¡c báº¡n chá»‰ cáº§n vÃ o láº¡i console xem lá»‹ch sá»­ tin nháº¯n lÃ  xong.",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Cho nhá»¯ng báº¡n chÆ°a biáº¿t cÃ¡ch cÃ i vÃ  cÃ¡ch dÃ¹ng:\n\n1: CÃ€I Äáº¶T: vÃ o Ä‘Æ°á»ng link github mÃ¬nh Ä‘á»ƒ trÃªn stt, rá»“i táº£i code vá», giáº£i nÃ©n. Sau Ä‘Ã³ vÃ o trang quáº£n lÃ½ extensions trong trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n lÃ  xong (nhá»› báº­t dáº¥u tÃ­ch Developer mode lÃªn má»›i kÃ©o tháº£ vÃ´ Ä‘Æ°á»£c nhÃ©)\n\n2: Sá»¬ Dá»¤NG: F5 láº¡i trang facebook lÃ  extension sáº½ tá»± cháº¡y. áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console trÃªn trÃ¬nh duyá»‡t. Trong console nÃ³ sáº½ ghi láº¡i táº¥t cáº£ tin nháº¯n tá»›i vÃ  Ä‘i. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, cÃ¡c báº¡n chá»‰ cáº§n vÃ o láº¡i console xem lá»‹ch sá»­ tin nháº¯n lÃ  xong.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran Tin nháº¯n Ä‘Ã£ lÆ°u nhÆ°ng táº¯t trÃ¬nh duyá»‡t Ä‘i má»Ÿ láº¡i cÅ©ng váº«n máº¥t Ä‘Ãºng ko bÃ¡c?']",Hoang Tran táº£i cÃ¡i nÃ o z bro,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Cho nhá»¯ng báº¡n chÆ°a biáº¿t cÃ¡ch cÃ i vÃ  cÃ¡ch dÃ¹ng:\n\n1: CÃ€I Äáº¶T: vÃ o Ä‘Æ°á»ng link github mÃ¬nh Ä‘á»ƒ trÃªn stt, rá»“i táº£i code vá», giáº£i nÃ©n. Sau Ä‘Ã³ vÃ o trang quáº£n lÃ½ extensions trong trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n lÃ  xong (nhá»› báº­t dáº¥u tÃ­ch Developer mode lÃªn má»›i kÃ©o tháº£ vÃ´ Ä‘Æ°á»£c nhÃ©)\n\n2: Sá»¬ Dá»¤NG: F5 láº¡i trang facebook lÃ  extension sáº½ tá»± cháº¡y. áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console trÃªn trÃ¬nh duyá»‡t. Trong console nÃ³ sáº½ ghi láº¡i táº¥t cáº£ tin nháº¯n tá»›i vÃ  Ä‘i. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, cÃ¡c báº¡n chá»‰ cáº§n vÃ o láº¡i console xem lá»‹ch sá»­ tin nháº¯n lÃ  xong.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran Tin nháº¯n Ä‘Ã£ lÆ°u nhÆ°ng táº¯t trÃ¬nh duyá»‡t Ä‘i má»Ÿ láº¡i cÅ©ng váº«n máº¥t Ä‘Ãºng ko bÃ¡c?']",Táº£i zip nhÃ©,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Cho nhá»¯ng báº¡n chÆ°a biáº¿t cÃ¡ch cÃ i vÃ  cÃ¡ch dÃ¹ng:\n\n1: CÃ€I Äáº¶T: vÃ o Ä‘Æ°á»ng link github mÃ¬nh Ä‘á»ƒ trÃªn stt, rá»“i táº£i code vá», giáº£i nÃ©n. Sau Ä‘Ã³ vÃ o trang quáº£n lÃ½ extensions trong trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n lÃ  xong (nhá»› báº­t dáº¥u tÃ­ch Developer mode lÃªn má»›i kÃ©o tháº£ vÃ´ Ä‘Æ°á»£c nhÃ©)\n\n2: Sá»¬ Dá»¤NG: F5 láº¡i trang facebook lÃ  extension sáº½ tá»± cháº¡y. áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console trÃªn trÃ¬nh duyá»‡t. Trong console nÃ³ sáº½ ghi láº¡i táº¥t cáº£ tin nháº¯n tá»›i vÃ  Ä‘i. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, cÃ¡c báº¡n chá»‰ cáº§n vÃ o láº¡i console xem lá»‹ch sá»­ tin nháº¯n lÃ  xong.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran Tin nháº¯n Ä‘Ã£ lÆ°u nhÆ°ng táº¯t trÃ¬nh duyá»‡t Ä‘i má»Ÿ láº¡i cÅ©ng váº«n máº¥t Ä‘Ãºng ko bÃ¡c?']",chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Cho nhá»¯ng báº¡n chÆ°a biáº¿t cÃ¡ch cÃ i vÃ  cÃ¡ch dÃ¹ng:\n\n1: CÃ€I Äáº¶T: vÃ o Ä‘Æ°á»ng link github mÃ¬nh Ä‘á»ƒ trÃªn stt, rá»“i táº£i code vá», giáº£i nÃ©n. Sau Ä‘Ã³ vÃ o trang quáº£n lÃ½ extensions trong trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n lÃ  xong (nhá»› báº­t dáº¥u tÃ­ch Developer mode lÃªn má»›i kÃ©o tháº£ vÃ´ Ä‘Æ°á»£c nhÃ©)\n\n2: Sá»¬ Dá»¤NG: F5 láº¡i trang facebook lÃ  extension sáº½ tá»± cháº¡y. áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console trÃªn trÃ¬nh duyá»‡t. Trong console nÃ³ sáº½ ghi láº¡i táº¥t cáº£ tin nháº¯n tá»›i vÃ  Ä‘i. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, cÃ¡c báº¡n chá»‰ cáº§n vÃ o láº¡i console xem lá»‹ch sá»­ tin nháº¯n lÃ  xong.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran Tin nháº¯n Ä‘Ã£ lÆ°u nhÆ°ng táº¯t trÃ¬nh duyá»‡t Ä‘i má»Ÿ láº¡i cÅ©ng váº«n máº¥t Ä‘Ãºng ko bÃ¡c?']",La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Cho nhá»¯ng báº¡n chÆ°a biáº¿t cÃ¡ch cÃ i vÃ  cÃ¡ch dÃ¹ng:\n\n1: CÃ€I Äáº¶T: vÃ o Ä‘Æ°á»ng link github mÃ¬nh Ä‘á»ƒ trÃªn stt, rá»“i táº£i code vá», giáº£i nÃ©n. Sau Ä‘Ã³ vÃ o trang quáº£n lÃ½ extensions trong trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n lÃ  xong (nhá»› báº­t dáº¥u tÃ­ch Developer mode lÃªn má»›i kÃ©o tháº£ vÃ´ Ä‘Æ°á»£c nhÃ©)\n\n2: Sá»¬ Dá»¤NG: F5 láº¡i trang facebook lÃ  extension sáº½ tá»± cháº¡y. áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console trÃªn trÃ¬nh duyá»‡t. Trong console nÃ³ sáº½ ghi láº¡i táº¥t cáº£ tin nháº¯n tá»›i vÃ  Ä‘i. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, cÃ¡c báº¡n chá»‰ cáº§n vÃ o láº¡i console xem lá»‹ch sá»­ tin nháº¯n lÃ  xong.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran Tin nháº¯n Ä‘Ã£ lÆ°u nhÆ°ng táº¯t trÃ¬nh duyá»‡t Ä‘i má»Ÿ láº¡i cÅ©ng váº«n máº¥t Ä‘Ãºng ko bÃ¡c?']","Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Cho nhá»¯ng báº¡n chÆ°a biáº¿t cÃ¡ch cÃ i vÃ  cÃ¡ch dÃ¹ng:\n\n1: CÃ€I Äáº¶T: vÃ o Ä‘Æ°á»ng link github mÃ¬nh Ä‘á»ƒ trÃªn stt, rá»“i táº£i code vá», giáº£i nÃ©n. Sau Ä‘Ã³ vÃ o trang quáº£n lÃ½ extensions trong trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n lÃ  xong (nhá»› báº­t dáº¥u tÃ­ch Developer mode lÃªn má»›i kÃ©o tháº£ vÃ´ Ä‘Æ°á»£c nhÃ©)\n\n2: Sá»¬ Dá»¤NG: F5 láº¡i trang facebook lÃ  extension sáº½ tá»± cháº¡y. áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console trÃªn trÃ¬nh duyá»‡t. Trong console nÃ³ sáº½ ghi láº¡i táº¥t cáº£ tin nháº¯n tá»›i vÃ  Ä‘i. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, cÃ¡c báº¡n chá»‰ cáº§n vÃ o láº¡i console xem lá»‹ch sá»­ tin nháº¯n lÃ  xong.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran Tin nháº¯n Ä‘Ã£ lÆ°u nhÆ°ng táº¯t trÃ¬nh duyá»‡t Ä‘i má»Ÿ láº¡i cÅ©ng váº«n máº¥t Ä‘Ãºng ko bÃ¡c?']","La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Cho nhá»¯ng báº¡n chÆ°a biáº¿t cÃ¡ch cÃ i vÃ  cÃ¡ch dÃ¹ng:\n\n1: CÃ€I Äáº¶T: vÃ o Ä‘Æ°á»ng link github mÃ¬nh Ä‘á»ƒ trÃªn stt, rá»“i táº£i code vá», giáº£i nÃ©n. Sau Ä‘Ã³ vÃ o trang quáº£n lÃ½ extensions trong trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n lÃ  xong (nhá»› báº­t dáº¥u tÃ­ch Developer mode lÃªn má»›i kÃ©o tháº£ vÃ´ Ä‘Æ°á»£c nhÃ©)\n\n2: Sá»¬ Dá»¤NG: F5 láº¡i trang facebook lÃ  extension sáº½ tá»± cháº¡y. áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console trÃªn trÃ¬nh duyá»‡t. Trong console nÃ³ sáº½ ghi láº¡i táº¥t cáº£ tin nháº¯n tá»›i vÃ  Ä‘i. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, cÃ¡c báº¡n chá»‰ cáº§n vÃ o láº¡i console xem lá»‹ch sá»­ tin nháº¯n lÃ  xong.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran Tin nháº¯n Ä‘Ã£ lÆ°u nhÆ°ng táº¯t trÃ¬nh duyá»‡t Ä‘i má»Ÿ láº¡i cÅ©ng váº«n máº¥t Ä‘Ãºng ko bÃ¡c?']",Hoang Tran Tin nháº¯n Ä‘Ã£ lÆ°u nhÆ°ng táº¯t trÃ¬nh duyá»‡t Ä‘i má»Ÿ láº¡i cÅ©ng váº«n máº¥t Ä‘Ãºng ko bÃ¡c?,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Cho nhá»¯ng báº¡n chÆ°a biáº¿t cÃ¡ch cÃ i vÃ  cÃ¡ch dÃ¹ng:\n\n1: CÃ€I Äáº¶T: vÃ o Ä‘Æ°á»ng link github mÃ¬nh Ä‘á»ƒ trÃªn stt, rá»“i táº£i code vá», giáº£i nÃ©n. Sau Ä‘Ã³ vÃ o trang quáº£n lÃ½ extensions trong trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n lÃ  xong (nhá»› báº­t dáº¥u tÃ­ch Developer mode lÃªn má»›i kÃ©o tháº£ vÃ´ Ä‘Æ°á»£c nhÃ©)\n\n2: Sá»¬ Dá»¤NG: F5 láº¡i trang facebook lÃ  extension sáº½ tá»± cháº¡y. áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console trÃªn trÃ¬nh duyá»‡t. Trong console nÃ³ sáº½ ghi láº¡i táº¥t cáº£ tin nháº¯n tá»›i vÃ  Ä‘i. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, cÃ¡c báº¡n chá»‰ cáº§n vÃ o láº¡i console xem lá»‹ch sá»­ tin nháº¯n lÃ  xong.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran táº£i cÃ¡i nÃ o z bro', 'Táº£i zip nhÃ©', 'chá»‰ nhá»¯ng tin nháº¯n sau khi Ä‘Æ°á»£c cÃ i extension háº£ bÃ¡c', 'La VÄƒn BÃ¡ Ä‘Ãºng rá»“i bÃ¡c', 'Hoang Tran Tháº¿ lÃºc mÃ¬nh ko dÃ¹ng chrome, thÃ¬ khi báº­t mÃ¡y lÃªn cÃ³ xem Ä‘c tin nháº¯n bá»‹ gá»¡ lÃºc chrome táº¯t ko bÃ¡c.', 'La VÄƒn BÃ¡ khÃ´ng nha bÃ¡c, pháº£i báº­t tab thÃ¬ extension má»›i cháº¡y, nÃ³ cháº¡y thÃ¬ nÃ³ má»›i lÆ°u tin nháº¯n vÃ o console Ä‘Æ°á»£c nhÃ©', 'Hoang Tran Tin nháº¯n Ä‘Ã£ lÆ°u nhÆ°ng táº¯t trÃ¬nh duyá»‡t Ä‘i má»Ÿ láº¡i cÅ©ng váº«n máº¥t Ä‘Ãºng ko bÃ¡c?']","La VÄƒn BÃ¡ Ä‘Ãºng r báº¡n, hiá»‡n táº¡i mÃ¬nh Ä‘ang lÃ m báº£n má»›i lÆ°u ngay cáº£ khi táº¯t rá»“i nhÃ©",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nguyá»…n TÃ¹ng,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['Nguyá»…n TÃ¹ng'],Trang Linh xá»‹n nhaa,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Äá»£i bÃ¡c update lÃªn dá»… nhÃ¬n mess gá»¡ hÆ¡n vÃ  ra báº£n edge,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Äá»£i bÃ¡c update lÃªn dá»… nhÃ¬n mess gá»¡ hÆ¡n vÃ  ra báº£n edge', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Hoang Tran BÃ¡c cho lÃªn store Edge nÃ³ khÃ´ng láº¥y phÃ­ hay sao áº¥y bÃ¡c']",Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Äá»£i bÃ¡c update lÃªn dá»… nhÃ¬n mess gá»¡ hÆ¡n vÃ  ra báº£n edge', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Hoang Tran BÃ¡c cho lÃªn store Edge nÃ³ khÃ´ng láº¥y phÃ­ hay sao áº¥y bÃ¡c']","Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Äá»£i bÃ¡c update lÃªn dá»… nhÃ¬n mess gá»¡ hÆ¡n vÃ  ra báº£n edge', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Hoang Tran BÃ¡c cho lÃªn store Edge nÃ³ khÃ´ng láº¥y phÃ­ hay sao áº¥y bÃ¡c']",Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Äá»£i bÃ¡c update lÃªn dá»… nhÃ¬n mess gá»¡ hÆ¡n vÃ  ra báº£n edge', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Hoang Tran BÃ¡c cho lÃªn store Edge nÃ³ khÃ´ng láº¥y phÃ­ hay sao áº¥y bÃ¡c']",Hoang Tran BÃ¡c cho lÃªn store Edge nÃ³ khÃ´ng láº¥y phÃ­ hay sao áº¥y bÃ¡c,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Äá»£i bÃ¡c update lÃªn dá»… nhÃ¬n mess gá»¡ hÆ¡n vÃ  ra báº£n edge', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Nguyá»…n Viá»‡t Anh hiá»‡n edge váº«n xÃ i Ä‘Æ°á»£c nha báº¡n', 'Hoang Tran bÃ¡c Æ¡i, cÃ¡i cá»§a bÃ¡c xem Ä‘Æ°á»£c tin nháº¯n thÃ´i áº¡?', 'Pháº¡m Vá»¹ Ã½ báº¡n lÃ  sao', 'Hoang Tran BÃ¡c cho lÃªn store Edge nÃ³ khÃ´ng láº¥y phÃ­ hay sao áº¥y bÃ¡c']",Nguyá»…n Viá»‡t Anh mÃ¬nh cáº­p nháº­t xong sáº½ Ä‘Äƒng lÃªn nhÃ©,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,vá»›i video thÃ¬ chá»‰ nhÃ¬n Ä‘Æ°á»£c áº£nh thumbnail thÃ´i chá»© khÃ´ng xem Ä‘Æ°á»£c bÃ¡c Æ¡i,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['vá»›i video thÃ¬ chá»‰ nhÃ¬n Ä‘Æ°á»£c áº£nh thumbnail thÃ´i chá»© khÃ´ng xem Ä‘Æ°á»£c bÃ¡c Æ¡i'],Máº¡nh HÃ¹ng mÃ¬nh sáº½ fix nhÃ©,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,cÃ¢y bi tu Ã¢y ğŸŒš,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,QuyÃªn t biáº¿t báº¡n m hay gá»¡ mÃ .,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['QuyÃªn t biáº¿t báº¡n m hay gá»¡ mÃ .', 'Háº£i LÆ°u bá»¯a nay báº¡n t ngoan rá»“i k tháº¥y gá»¡ ná»¯a :))']",Háº£i LÆ°u bá»¯a nay báº¡n t ngoan rá»“i k tháº¥y gá»¡ ná»¯a :)),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['QuyÃªn t biáº¿t báº¡n m hay gá»¡ mÃ .', 'Háº£i LÆ°u bá»¯a nay báº¡n t ngoan rá»“i k tháº¥y gá»¡ ná»¯a :))']",QuyÃªn tuyá»‡t zá»i ğŸ¥³ğŸ¥³ğŸ¥³,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Biáº¿n tÆ°á»›ng láº¡i 1 tÃ½ Ä‘á»ƒ cÃ i vÃ´ mÃ¡y ngÆ°á»i yÃªu, vá»£, chá»“ng Ä‘á»ƒ Ä‘á»c trá»™m tin nháº¯n cÃ¡c báº¡n á»£ ğŸ¤£ğŸ¤£ğŸ¤£",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Biáº¿n tÆ°á»›ng láº¡i 1 tÃ½ Ä‘á»ƒ cÃ i vÃ´ mÃ¡y ngÆ°á»i yÃªu, vá»£, chá»“ng Ä‘á»ƒ Ä‘á»c trá»™m tin nháº¯n cÃ¡c báº¡n á»£ ğŸ¤£ğŸ¤£ğŸ¤£', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'Trung KiÃªn Ã  quÃªn báº¡n, quÃªn step nÃ y, hÃ¨n chi tháº¥y cÃ³ bug ğŸ˜‚ğŸ˜‚ğŸ˜‚', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'Trung KiÃªn Ã  quÃªn báº¡n, quÃªn step nÃ y, hÃ¨n chi tháº¥y cÃ³ bug ğŸ˜‚ğŸ˜‚ğŸ˜‚', 'LÃ¢m Ngá»c KhÆ°Æ¡ng Ä‘Ãºng rá»“i, pháº£i unit test cho kÄ© chá»© ğŸ˜']","ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Biáº¿n tÆ°á»›ng láº¡i 1 tÃ½ Ä‘á»ƒ cÃ i vÃ´ mÃ¡y ngÆ°á»i yÃªu, vá»£, chá»“ng Ä‘á»ƒ Ä‘á»c trá»™m tin nháº¯n cÃ¡c báº¡n á»£ ğŸ¤£ğŸ¤£ğŸ¤£', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'Trung KiÃªn Ã  quÃªn báº¡n, quÃªn step nÃ y, hÃ¨n chi tháº¥y cÃ³ bug ğŸ˜‚ğŸ˜‚ğŸ˜‚', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'Trung KiÃªn Ã  quÃªn báº¡n, quÃªn step nÃ y, hÃ¨n chi tháº¥y cÃ³ bug ğŸ˜‚ğŸ˜‚ğŸ˜‚', 'LÃ¢m Ngá»c KhÆ°Æ¡ng Ä‘Ãºng rá»“i, pháº£i unit test cho kÄ© chá»© ğŸ˜']","Trung KiÃªn Ã  quÃªn báº¡n, quÃªn step nÃ y, hÃ¨n chi tháº¥y cÃ³ bug ğŸ˜‚ğŸ˜‚ğŸ˜‚",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Biáº¿n tÆ°á»›ng láº¡i 1 tÃ½ Ä‘á»ƒ cÃ i vÃ´ mÃ¡y ngÆ°á»i yÃªu, vá»£, chá»“ng Ä‘á»ƒ Ä‘á»c trá»™m tin nháº¯n cÃ¡c báº¡n á»£ ğŸ¤£ğŸ¤£ğŸ¤£', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'Trung KiÃªn Ã  quÃªn báº¡n, quÃªn step nÃ y, hÃ¨n chi tháº¥y cÃ³ bug ğŸ˜‚ğŸ˜‚ğŸ˜‚', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'Trung KiÃªn Ã  quÃªn báº¡n, quÃªn step nÃ y, hÃ¨n chi tháº¥y cÃ³ bug ğŸ˜‚ğŸ˜‚ğŸ˜‚', 'LÃ¢m Ngá»c KhÆ°Æ¡ng Ä‘Ãºng rá»“i, pháº£i unit test cho kÄ© chá»© ğŸ˜']","LÃ¢m Ngá»c KhÆ°Æ¡ng Ä‘Ãºng rá»“i, pháº£i unit test cho kÄ© chá»© ğŸ˜",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Biáº¿n tÆ°á»›ng láº¡i 1 tÃ½ Ä‘á»ƒ cÃ i vÃ´ mÃ¡y ngÆ°á»i yÃªu, vá»£, chá»“ng Ä‘á»ƒ Ä‘á»c trá»™m tin nháº¯n cÃ¡c báº¡n á»£ ğŸ¤£ğŸ¤£ğŸ¤£', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'Trung KiÃªn Ã  quÃªn báº¡n, quÃªn step nÃ y, hÃ¨n chi tháº¥y cÃ³ bug ğŸ˜‚ğŸ˜‚ğŸ˜‚', 'ok báº¡n, nhÆ°ng trÆ°á»›c máº¯t Ä‘á»ƒ kiáº¿m ngÆ°á»i yÃªu Ä‘Ã£ :)))', 'Trung KiÃªn Ã  quÃªn báº¡n, quÃªn step nÃ y, hÃ¨n chi tháº¥y cÃ³ bug ğŸ˜‚ğŸ˜‚ğŸ˜‚', 'LÃ¢m Ngá»c KhÆ°Æ¡ng Ä‘Ãºng rá»“i, pháº£i unit test cho kÄ© chá»© ğŸ˜']","Trung KiÃªn xin lá»—i tháº±ng báº¡n, cÆ¡ mÃ  tÃ¡ch ra Ä‘i kiáº¿m ng iu Ä‘i, chá»› 2 tháº±ng á»Ÿ Ä‘Ã¢y áº¿ cháº¿t moáº¹",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,CaÌi troÌ€ inject websocket naÌ€y thuÌ viÌ£ phÃªÌt. SeÌƒ hoÌ£c hoÌ‰i Ä‘ÃªÌ‰ laÌ€m mÃ¢Ìy extension cho cÃ´ng viÃªÌ£c ğŸ˜€,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Pháº¡m Minh TrÃ­,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']","HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']","UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']","Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']","UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['thá»±c ra cÃ¡c bÃ¡c cÃ³ thá»ƒ Ä‘Æ¡n giáº£n hÃ³a báº±ng cÃ¡ch dÃ¹ng 1 con bot chat nhÆ° tháº¿ nÃ y:', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'Tháº¯ng tháº¿ thÃ¬ ko lÆ°u Ä‘Æ°á»£c tin nháº¯n ib', 'nÃ y lÃ  cÃ i vÃ o group háº£ báº¡n? chá»© 2 ngÆ°á»i thÃ¬ cháº¡y sao nhá»‰?', 'Nguyá»…n Hiáº¿u cÃ i trá»±c tiáº¿p trÃªn account áº¥y b.', 'HoÃ ng Háº£i Long cÃ i nnao tháº¿ bÃ¡c Æ¡i, cÃ³ xem Ä‘Æ°á»£c hÃ¬nh áº£nh, Ã¢m thanh hay video k áº¡?', 'Tháº¯ng háº¥p dáº«n tháº¿ :3 lÃ m tut táº¡o bot Ä‘i báº¡n :3', 'Nguyá»…n Äá»©c Tiáº¿n CÃ³ luÃ´n bÃ¡c nhÃ©', 'HoÃ ng Háº£i Long bÃ¡c cÃ³ tiá»‡n k chá»‰ e vá»›i', 'Tháº¯ng b Æ¡i cÃ³ thá»ƒ hÆ°á»›ng dáº«n mÃ¬nh cÃ¡ch táº¡o kh mÃ¬nh Ä‘ang cáº§n láº¯m = (((((', 'UyÃªn Ly cÃ¡i nÃ y cháº¡y = account facebook, dá»… bá»‹ checkpoint', 'UyÃªn Ly cÃ¢n nháº¯c trÆ°á»›c Ä‘i nhen', 'Nguyá»…n Äá»©c Tiáº¿n Ib qua Ä‘Ã¢y nhÃ³ https://www.facebook.com/profile.php?id=100068126861379', 'Tháº¯ng nhá» b hÆ°á»›ng dáº«n áº¡, giá» cÃ³ máº¥t cÅ©ng Ä‘Æ°á»£c miá»…n mÃ¬nh Ä‘á»c Ä‘Æ°á»£c thÃ´ng tin ğŸ¥ºğŸ¥º', 'UyÃªn Ly ib anh hoÃ ng háº£i long á»Ÿ trÃªn Ä‘i b,á»•ng cao tay hÆ¡n mÃ¬nh :v']",Tháº¯ng cáº£m Æ¡n b nhÃ©,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Xuáº¥t sáº¯c luÃ´n ğŸ¤£,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"1 con app leak Ä‘c tin nháº¯n messenger, ngÆ°á»i ta thu há»“i gÃ¬ bÃªn messenger thÃ¬ bÃªn app váº«n cÃ²n :)))",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['1 con app leak Ä‘c tin nháº¯n messenger, ngÆ°á»i ta thu há»“i gÃ¬ bÃªn messenger thÃ¬ bÃªn app váº«n cÃ²n :)))', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'DÆ°Æ¡ng T. Báº£o nÃ³ xem Ä‘c text thÃ´i bÃ¡c, ko xem Ä‘c picture hay voice', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'DÆ°Æ¡ng T. Báº£o nÃ³ xem Ä‘c text thÃ´i bÃ¡c, ko xem Ä‘c picture hay voice', 'Nguyá»…n PhÆ°Æ¡ng bá»¯a cÅ©ng dÃ¹ng 1 láº§n xong bá»‹ cp nÃªn xÃ³a luÃ´n :))']",Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['1 con app leak Ä‘c tin nháº¯n messenger, ngÆ°á»i ta thu há»“i gÃ¬ bÃªn messenger thÃ¬ bÃªn app váº«n cÃ²n :)))', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'DÆ°Æ¡ng T. Báº£o nÃ³ xem Ä‘c text thÃ´i bÃ¡c, ko xem Ä‘c picture hay voice', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'DÆ°Æ¡ng T. Báº£o nÃ³ xem Ä‘c text thÃ´i bÃ¡c, ko xem Ä‘c picture hay voice', 'Nguyá»…n PhÆ°Æ¡ng bá»¯a cÅ©ng dÃ¹ng 1 láº§n xong bá»‹ cp nÃªn xÃ³a luÃ´n :))']","DÆ°Æ¡ng T. Báº£o nÃ³ xem Ä‘c text thÃ´i bÃ¡c, ko xem Ä‘c picture hay voice",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['1 con app leak Ä‘c tin nháº¯n messenger, ngÆ°á»i ta thu há»“i gÃ¬ bÃªn messenger thÃ¬ bÃªn app váº«n cÃ²n :)))', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'DÆ°Æ¡ng T. Báº£o nÃ³ xem Ä‘c text thÃ´i bÃ¡c, ko xem Ä‘c picture hay voice', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'DÆ°Æ¡ng T. Báº£o nÃ³ xem Ä‘c text thÃ´i bÃ¡c, ko xem Ä‘c picture hay voice', 'Nguyá»…n PhÆ°Æ¡ng bá»¯a cÅ©ng dÃ¹ng 1 láº§n xong bá»‹ cp nÃªn xÃ³a luÃ´n :))']",Nguyá»…n PhÆ°Æ¡ng bá»¯a cÅ©ng dÃ¹ng 1 láº§n xong bá»‹ cp nÃªn xÃ³a luÃ´n :)),1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['1 con app leak Ä‘c tin nháº¯n messenger, ngÆ°á»i ta thu há»“i gÃ¬ bÃªn messenger thÃ¬ bÃªn app váº«n cÃ²n :)))', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'DÆ°Æ¡ng T. Báº£o nÃ³ xem Ä‘c text thÃ´i bÃ¡c, ko xem Ä‘c picture hay voice', 'Nguyá»…n PhÆ°Æ¡ng em k láº§m nÃ³ nghe thÃ´ng bÃ¡o thÃ´i ğŸ˜ CÃ²n hÃ¬nh áº£nh Ä‘á»“ thÃ¬ k Ä‘Æ°á»£c.', 'DÆ°Æ¡ng T. Báº£o nÃ³ xem Ä‘c text thÃ´i bÃ¡c, ko xem Ä‘c picture hay voice', 'Nguyá»…n PhÆ°Æ¡ng bá»¯a cÅ©ng dÃ¹ng 1 láº§n xong bá»‹ cp nÃªn xÃ³a luÃ´n :))']","Tráº§n Gia xÃ i thÃ¬ nÃ³ bá»‹ cp láº§n Ä‘áº§u thÃ´i, hÃ nh vi láº¡ nÃ³ cp mÃ .
Náº¿u muá»‘n trÃ¡nh thÃ¬ bÃ¡c login = cookie web",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,reup láº¡i thiáº¿u 1 hÃ¬nh ná»¯a rá»“i ğŸ™ ÄÃ¢y lÃ  hÃ¬nh cÃ¡c bÆ°á»›c Ä‘á»ƒ xem dá»¯ liá»‡u websocket cá»§a facebook nhÃ© (giai Ä‘oáº¡n phÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n - náº¿u cÃ¡c báº¡n chá»‰ táº£i vá» xÃ i extension thÃ´i thÃ¬ khÃ´ng cáº§n lÃ m nhÆ° áº£nh nÃ y nhÃ©),1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['reup láº¡i thiáº¿u 1 hÃ¬nh ná»¯a rá»“i ğŸ™ ÄÃ¢y lÃ  hÃ¬nh cÃ¡c bÆ°á»›c Ä‘á»ƒ xem dá»¯ liá»‡u websocket cá»§a facebook nhÃ© (giai Ä‘oáº¡n phÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n - náº¿u cÃ¡c báº¡n chá»‰ táº£i vá» xÃ i extension thÃ´i thÃ¬ khÃ´ng cáº§n lÃ m nhÆ° áº£nh nÃ y nhÃ©)', 'Giá» mÃ  chá»‰nh sá»­a bÃ i viáº¿t láº¡i pháº£i Ä‘á»£i duyá»‡t ğŸ™ rá»“i láº¡i lá»¡ tay báº¥m xÃ³a thÃ¬ toi']",Giá» mÃ  chá»‰nh sá»­a bÃ i viáº¿t láº¡i pháº£i Ä‘á»£i duyá»‡t ğŸ™ rá»“i láº¡i lá»¡ tay báº¥m xÃ³a thÃ¬ toi,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['reup láº¡i thiáº¿u 1 hÃ¬nh ná»¯a rá»“i ğŸ™ ÄÃ¢y lÃ  hÃ¬nh cÃ¡c bÆ°á»›c Ä‘á»ƒ xem dá»¯ liá»‡u websocket cá»§a facebook nhÃ© (giai Ä‘oáº¡n phÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n - náº¿u cÃ¡c báº¡n chá»‰ táº£i vá» xÃ i extension thÃ´i thÃ¬ khÃ´ng cáº§n lÃ m nhÆ° áº£nh nÃ y nhÃ©)', 'Giá» mÃ  chá»‰nh sá»­a bÃ i viáº¿t láº¡i pháº£i Ä‘á»£i duyá»‡t ğŸ™ rá»“i láº¡i lá»¡ tay báº¥m xÃ³a thÃ¬ toi']",hay :3,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,cÃ³ thá»ƒ xem láº¡i cuá»™c tin nháº¯n Ä‘Ã£ bá»‹ xÃ³a ko Ã´ng?,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['cÃ³ thá»ƒ xem láº¡i cuá»™c tin nháº¯n Ä‘Ã£ bá»‹ xÃ³a ko Ã´ng?'],Trá»±c Phan chá»‰ khi bÃ¡c Ä‘ang cháº¡y thÃ´i .-.,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Tran Nguyen Khang,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Ä‘á»c thÃ¬ hiá»ƒu mÃ  k biáº¿t lÃ m ğŸ™ hÃ³ng video hÆ°á»›ng dáº«n cá»§a bÃ¡c,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Ä‘á»c thÃ¬ hiá»ƒu mÃ  k biáº¿t lÃ m ğŸ™ hÃ³ng video hÆ°á»›ng dáº«n cá»§a bÃ¡c', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Hoang Tran Ä‘á»ƒ em thá»­ bÃ¡c', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Hoang Tran Ä‘á»ƒ em thá»­ bÃ¡c', 'Hoang Tran nghe phá»©c táº¡p quÃ¡ áº¡ @@']","Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Ä‘á»c thÃ¬ hiá»ƒu mÃ  k biáº¿t lÃ m ğŸ™ hÃ³ng video hÆ°á»›ng dáº«n cá»§a bÃ¡c', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Hoang Tran Ä‘á»ƒ em thá»­ bÃ¡c', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Hoang Tran Ä‘á»ƒ em thá»­ bÃ¡c', 'Hoang Tran nghe phá»©c táº¡p quÃ¡ áº¡ @@']",Hoang Tran Ä‘á»ƒ em thá»­ bÃ¡c,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Ä‘á»c thÃ¬ hiá»ƒu mÃ  k biáº¿t lÃ m ğŸ™ hÃ³ng video hÆ°á»›ng dáº«n cá»§a bÃ¡c', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Hoang Tran Ä‘á»ƒ em thá»­ bÃ¡c', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Hoang Tran Ä‘á»ƒ em thá»­ bÃ¡c', 'Hoang Tran nghe phá»©c táº¡p quÃ¡ áº¡ @@']",Hoang Tran nghe phá»©c táº¡p quÃ¡ áº¡ @@,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Ä‘á»c thÃ¬ hiá»ƒu mÃ  k biáº¿t lÃ m ğŸ™ hÃ³ng video hÆ°á»›ng dáº«n cá»§a bÃ¡c', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Hoang Tran Ä‘á»ƒ em thá»­ bÃ¡c', 'Duy Lucas náº¿u muá»‘n cÃ i thÃ¬ báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'Hoang Tran Ä‘á»ƒ em thá»­ bÃ¡c', 'Hoang Tran nghe phá»©c táº¡p quÃ¡ áº¡ @@']",Thá»§y TiÃªn Äáº·ng lÃºc mÃ¬nh lÃ m nÃ³ cÅ©ng phá»©c táº¡p váº­y Ã¡ báº¡n,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰
Em lÆ°á»i Ä‘á»c quÃ¡",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰\nEm lÆ°á»i Ä‘á»c quÃ¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i']","CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰\nEm lÆ°á»i Ä‘á»c quÃ¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i']",Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰\nEm lÆ°á»i Ä‘á»c quÃ¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i']","CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰\nEm lÆ°á»i Ä‘á»c quÃ¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i']","Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m
LÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰\nEm lÆ°á»i Ä‘á»c quÃ¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i']",náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰\nEm lÆ°á»i Ä‘á»c quÃ¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i']","CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰\nEm lÆ°á»i Ä‘á»c quÃ¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i']","Hoang Tran ok bÃ¡c
Thá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m
+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c
+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)
DÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰\nEm lÆ°á»i Ä‘á»c quÃ¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i']","Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Em há»i ngu tÃ­ data lÆ°u vÃ o Ä‘Ã¢u nhá»‰\nEm lÆ°á»i Ä‘á»c quÃ¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'CÆ°á»ng Nguyá»…n mÃ¬nh khÃ´ng lÆ°u data, chá»‰ hiá»ƒn thá»‹ ra console cá»§a trÃ¬nh duyá»‡t', 'Hoang Tran á»§a khÃ´ng lÆ°u láº¡i thÃ¬ sau nÃ y cÅ©ng Ä‘Ã¢u cÃ³ Ä‘á»c láº¡i Ä‘Æ°á»£c tn Ä‘Ã£ gá»¡', 'CÆ°á»ng Nguyá»…n lÆ°u trong tab Ä‘Ã³ , ko táº¯t tab Ä‘i thÃ¬ nÃ³ cÃ³ xoÃ¡ biáº¿n Ä‘i Ä‘Ã¢u', 'Nguyá»…n VÄƒn Huy @@ chÆ°a hiá»ƒu Ä‘á»ƒ lÃ m gÃ¬ láº¯m\nLÆ°u láº¡i Ä‘á»ƒ sau nÃ y coi thÃ¬ cÃ²n hiá»ƒu Ä‘Æ°á»£c', 'náº¿u tháº¥y ngta gá»¡ lÃ  vÃ´ console coi liá»n nha báº¡n :)) chá»© gá»¡ rá»“i máº¥y ngÃ y sau má»›i má»Ÿ láº¡i coi thÃ¬ kÃ¬. TÃ­nh nÄƒng lÆ°u Ä‘á»ƒ xem láº¡i mÃ¬nh sáº½ lÃ m sau nhÃ©', 'CÆ°á»ng Nguyá»…n náº¿u há» gá»¡ tin nháº¯n chá»¯ thÃ¬ báº¡n vÃ´ console Ä‘á»c lÃ  Ä‘Æ°á»£c, cÃ²n náº¿u há» gá»¡ hÃ¬nh áº£nh, thÃ¬ mÃ¬nh cÅ©ng hiá»ƒn thá»‹ hÃ¬nh áº£nh trong console kÃ¨m theo link áº£nh, báº¡n cÃ³ thá»ƒ má»Ÿ rá»“i lÆ°u láº¡i ... dÃ¹ng dáº§n ... :v', 'Hoang Tran ok bÃ¡c\nThá»±c ra em tháº¥y cÃ¡i nÃ y hÆ¡i k thiáº¿t thá»±c láº¯m,m\n+, pháº£i báº­t tab fb má»›i Ä‘Æ°á»£c\n+, viá»‡c thu há»“i tin nháº¯n ráº¥t hiáº¿m( Ä‘á»‘i vá»›i em)\nDÃ¹ sao ráº¥t cáº£m Æ¡n vÃ¬ kiáº¿n thá»©c bÃ¡c Ä‘Ã£ share <3', 'Náº¿u bÃ¡c muá»‘n khÃ´ng cáº§n báº­t tab mÃ  váº«n track Ä‘Æ°á»£c tin nháº¯n, thÃ¬ mÃ¬nh cÃ³ tool cháº¡y báº±ng cÆ¡m ngá»“i chá» tin nháº¯n dÃ¹m bÃ¡c nhÃ©, cÃ³ Ä‘iá»u khÃ´ng free thÃ´i']","Hoang Tran cáº£m Æ¡n bÃ¡c, nÃ o cÃ³ nhu cáº§u lÃ m phi vá»¥ má» Ã¡m gÃ¬ em sáº½ pm bÃ¡c xD",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Cáº£m Æ¡n báº¡n,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"hÃ¬nh nhÆ° nÃ³ load láº¡i nhá»¯ng tin nháº¯n cÅ©, request_id cÅ©ng lÃ  null nha b, khi hover vÃ´ danh sÃ¡ch ngÆ°á»i onl , nÃ³ sáº½ load nhá»¯ng tin nháº¯n gáº§n Ä‘Ã³ :V",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nhiá»u khi má»‡t má»i Ä‘Ã¡m con gÃ¡i cá»© nháº¯n xong thu há»“i.,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Nhiá»u khi má»‡t má»i Ä‘Ã¡m con gÃ¡i cá»© nháº¯n xong thu há»“i.', 'DÆ°Æ¡ng Tuáº¥n Nháº­t giá» thÃ¬ má»‡t má»i vÃ¬ biáº¿t Ä‘Æ°á»£c nÃ³ nháº¯n gÃ¬ :))', 'DÆ°Æ¡ng Tuáº¥n Nháº­t giá» thÃ¬ má»‡t má»i vÃ¬ biáº¿t Ä‘Æ°á»£c nÃ³ nháº¯n gÃ¬ :))', 'Hoang Tran Ã”ng thÃªm cÃ¡ch build vÃ o Ä‘i, t nhá»› lÃ  chá»‰ nÃ©n xong Ä‘á»•i Ä‘uÃ´i nhÆ°ng mÃ  ko nhá»› rÃµ.']",DÆ°Æ¡ng Tuáº¥n Nháº­t giá» thÃ¬ má»‡t má»i vÃ¬ biáº¿t Ä‘Æ°á»£c nÃ³ nháº¯n gÃ¬ :)),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Nhiá»u khi má»‡t má»i Ä‘Ã¡m con gÃ¡i cá»© nháº¯n xong thu há»“i.', 'DÆ°Æ¡ng Tuáº¥n Nháº­t giá» thÃ¬ má»‡t má»i vÃ¬ biáº¿t Ä‘Æ°á»£c nÃ³ nháº¯n gÃ¬ :))', 'DÆ°Æ¡ng Tuáº¥n Nháº­t giá» thÃ¬ má»‡t má»i vÃ¬ biáº¿t Ä‘Æ°á»£c nÃ³ nháº¯n gÃ¬ :))', 'Hoang Tran Ã”ng thÃªm cÃ¡ch build vÃ o Ä‘i, t nhá»› lÃ  chá»‰ nÃ©n xong Ä‘á»•i Ä‘uÃ´i nhÆ°ng mÃ  ko nhá»› rÃµ.']","Hoang Tran Ã”ng thÃªm cÃ¡ch build vÃ o Ä‘i, t nhá»› lÃ  chá»‰ nÃ©n xong Ä‘á»•i Ä‘uÃ´i nhÆ°ng mÃ  ko nhá»› rÃµ.",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Nhiá»u khi má»‡t má»i Ä‘Ã¡m con gÃ¡i cá»© nháº¯n xong thu há»“i.', 'DÆ°Æ¡ng Tuáº¥n Nháº­t giá» thÃ¬ má»‡t má»i vÃ¬ biáº¿t Ä‘Æ°á»£c nÃ³ nháº¯n gÃ¬ :))', 'DÆ°Æ¡ng Tuáº¥n Nháº­t giá» thÃ¬ má»‡t má»i vÃ¬ biáº¿t Ä‘Æ°á»£c nÃ³ nháº¯n gÃ¬ :))', 'Hoang Tran Ã”ng thÃªm cÃ¡ch build vÃ o Ä‘i, t nhá»› lÃ  chá»‰ nÃ©n xong Ä‘á»•i Ä‘uÃ´i nhÆ°ng mÃ  ko nhá»› rÃµ.']",DÆ°Æ¡ng Tuáº¥n Nháº­t yÃªu Ä‘Æ°Æ¡ng mÃªÌ£t thÃªÌ haÌ‰ anh =))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,CÆ¡ mÃ  tháº¿ rá»‘t cuá»™c táº¡i sao nÃ³ láº¡i náº·ng hÆ¡n trÄƒm mb tháº¿ chá»§ thá»›t ğŸ˜„,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÆ¡ mÃ  tháº¿ rá»‘t cuá»™c táº¡i sao nÃ³ láº¡i náº·ng hÆ¡n trÄƒm mb tháº¿ chá»§ thá»›t ğŸ˜„', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Nguyá»…n Anh NhÃ¢n lÃ m váº­y thÃ¬ nhanh ra sáº£n pháº©m nhÆ°ng user Ä‘á»£i down cháº¯c ngÃ¡n ğŸ˜€']","Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÆ¡ mÃ  tháº¿ rá»‘t cuá»™c táº¡i sao nÃ³ láº¡i náº·ng hÆ¡n trÄƒm mb tháº¿ chá»§ thá»›t ğŸ˜„', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Nguyá»…n Anh NhÃ¢n lÃ m váº­y thÃ¬ nhanh ra sáº£n pháº©m nhÆ°ng user Ä‘á»£i down cháº¯c ngÃ¡n ğŸ˜€']","Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÆ¡ mÃ  tháº¿ rá»‘t cuá»™c táº¡i sao nÃ³ láº¡i náº·ng hÆ¡n trÄƒm mb tháº¿ chá»§ thá»›t ğŸ˜„', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Nguyá»…n Anh NhÃ¢n lÃ m váº­y thÃ¬ nhanh ra sáº£n pháº©m nhÆ°ng user Ä‘á»£i down cháº¯c ngÃ¡n ğŸ˜€']","Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÆ¡ mÃ  tháº¿ rá»‘t cuá»™c táº¡i sao nÃ³ láº¡i náº·ng hÆ¡n trÄƒm mb tháº¿ chá»§ thá»›t ğŸ˜„', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Nguyá»…n Anh NhÃ¢n lÃ m váº­y thÃ¬ nhanh ra sáº£n pháº©m nhÆ°ng user Ä‘á»£i down cháº¯c ngÃ¡n ğŸ˜€']","Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÆ¡ mÃ  tháº¿ rá»‘t cuá»™c táº¡i sao nÃ³ láº¡i náº·ng hÆ¡n trÄƒm mb tháº¿ chá»§ thá»›t ğŸ˜„', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Nguyá»…n Anh NhÃ¢n lÃ m váº­y thÃ¬ nhanh ra sáº£n pháº©m nhÆ°ng user Ä‘á»£i down cháº¯c ngÃ¡n ğŸ˜€']",Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÆ¡ mÃ  tháº¿ rá»‘t cuá»™c táº¡i sao nÃ³ láº¡i náº·ng hÆ¡n trÄƒm mb tháº¿ chá»§ thá»›t ğŸ˜„', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Nguyá»…n Anh NhÃ¢n lÃ m váº­y thÃ¬ nhanh ra sáº£n pháº©m nhÆ°ng user Ä‘á»£i down cháº¯c ngÃ¡n ğŸ˜€']",Nguyá»…n Anh NhÃ¢n lÃ m váº­y thÃ¬ nhanh ra sáº£n pháº©m nhÆ°ng user Ä‘á»£i down cháº¯c ngÃ¡n ğŸ˜€,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÆ¡ mÃ  tháº¿ rá»‘t cuá»™c táº¡i sao nÃ³ láº¡i náº·ng hÆ¡n trÄƒm mb tháº¿ chá»§ thá»›t ğŸ˜„', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Viá»‡t Tháº£o do team báº¡n áº¥y lÆ°u cáº£ code cá»§a 1 trang web nhÃ©, vá»›i Ä‘á»§ thá»© hÃ¬nh áº£nh, thÆ° viá»‡n, templates .... VÃ¢n vÃ¢n mÃ¢y mÃ¢y, cÃ²n code cháº¡y logic chÃ­nh chá»‰ má»™t xÃ­u thÃ´i Ã ', 'Web mÃ  minify code Js thÃ¬ lÃ m sao mÃ  náº·ng váº­y Ä‘Æ°á»£c nhie ğŸ¤” tháº¿ cháº¯c chá»‰ cÃ³ do assets, mÃ¬nh Ä‘oÃ¡n do chÆ°a tá»‘i Æ°u assets?', 'Minify báº£n develop, mÃ¬nh tháº¥y váº«n lÆ°u sourceMapingUrl ğŸ˜… vá»›i lÆ°u cáº£ 1 vÃ i bá»™ template Ä‘á»ƒ lÃ m trang popup cá»§a extension, chÆ°a xÃ³a Ä‘i trÆ°á»›c khi puplic lÃªn luÃ´n', 'Viá»‡t Tháº£o vÃ¬ nhÃ©t luÃ´n cáº£ cÃ¡i template web, khÃ´ng dÃ¡m bá» bá»›t file sá»£ xoÃ¡ nháº§m file Ä‘Ã³ a :v', 'Viá»‡t Tháº£o cháº¯c chÆ°a lá»c háº¿t file assets nhÆ° hÃ¬nh áº£nh', 'Nguyá»…n Anh NhÃ¢n lÃ m váº­y thÃ¬ nhanh ra sáº£n pháº©m nhÆ°ng user Ä‘á»£i down cháº¯c ngÃ¡n ğŸ˜€']",Viá»‡t Tháº£o trÆ°á»›c em toÃ n tháº¿ nÃªn em biáº¿t =)),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,=))) toi hÃ³ng báº£n zalo xem bÃ¬nh luáº­n hÆ¡n :v,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['=))) toi hÃ³ng báº£n zalo xem bÃ¬nh luáº­n hÆ¡n :v', 'Nguyá»…n Minh Cáº£nh theo dÃµi bá»“ cho dá»… há»­', 'Nguyá»…n Minh Cáº£nh theo dÃµi bá»“ cho dá»… há»­', 'Nguyá»…n Minh ThÃ nh Ä‘á»ƒ xem máº¥y bÃ¡c thÆ°Æ¡ng gia bÃ¡o giÃ¡ láº«n nhau .-.']",Nguyá»…n Minh Cáº£nh theo dÃµi bá»“ cho dá»… há»­,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['=))) toi hÃ³ng báº£n zalo xem bÃ¬nh luáº­n hÆ¡n :v', 'Nguyá»…n Minh Cáº£nh theo dÃµi bá»“ cho dá»… há»­', 'Nguyá»…n Minh Cáº£nh theo dÃµi bá»“ cho dá»… há»­', 'Nguyá»…n Minh ThÃ nh Ä‘á»ƒ xem máº¥y bÃ¡c thÆ°Æ¡ng gia bÃ¡o giÃ¡ láº«n nhau .-.']",Nguyá»…n Minh ThÃ nh Ä‘á»ƒ xem máº¥y bÃ¡c thÆ°Æ¡ng gia bÃ¡o giÃ¡ láº«n nhau .-.,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['=))) toi hÃ³ng báº£n zalo xem bÃ¬nh luáº­n hÆ¡n :v', 'Nguyá»…n Minh Cáº£nh theo dÃµi bá»“ cho dá»… há»­', 'Nguyá»…n Minh Cáº£nh theo dÃµi bá»“ cho dá»… há»­', 'Nguyá»…n Minh ThÃ nh Ä‘á»ƒ xem máº¥y bÃ¡c thÆ°Æ¡ng gia bÃ¡o giÃ¡ láº«n nhau .-.']",Nguyá»…n Minh Cáº£nh chuáº©n Ä‘Ã©t,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Thá»±c Trá»‹nh,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Thá»±c Trá»‹nh', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Thá»±c Trá»‹nh nhá»™t Ã  báº¡n', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Thá»±c Trá»‹nh nhá»™t Ã  báº¡n', 'Äáº·ng Linh']",Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Thá»±c Trá»‹nh', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Thá»±c Trá»‹nh nhá»™t Ã  báº¡n', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Thá»±c Trá»‹nh nhá»™t Ã  báº¡n', 'Äáº·ng Linh']",Thá»±c Trá»‹nh nhá»™t Ã  báº¡n,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Thá»±c Trá»‹nh', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Thá»±c Trá»‹nh nhá»™t Ã  báº¡n', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Thá»±c Trá»‹nh nhá»™t Ã  báº¡n', 'Äáº·ng Linh']",Äáº·ng Linh,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Thá»±c Trá»‹nh', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Thá»±c Trá»‹nh nhá»™t Ã  báº¡n', 'Äáº·ng Linh b tag Ä‘á»ƒ dá»a tÃ´i hay gÃ¬', 'Thá»±c Trá»‹nh nhá»™t Ã  báº¡n', 'Äáº·ng Linh']",Rá»“i tÃ´i cÃ³ pay acc ko Ä‘á»ƒ chuáº©n bá»‹ tÃ¢m lÃ½,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"extension nhÆ° nÃ y sáº½ k up lÃªn Ä‘c store Ä‘Ã¢u ad Ä‘á»«ng mong ğŸ˜‚, vi pháº¡m rule rá»“i áº¥y",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['extension nhÆ° nÃ y sáº½ k up lÃªn Ä‘c store Ä‘Ã¢u ad Ä‘á»«ng mong ğŸ˜‚, vi pháº¡m rule rá»“i áº¥y', 'VÅ© Äáº¡t Pháº¡m rule gÃ¬ váº­y báº¡n, mÃ¬nh chÆ°a up bao giá» nÃªn cÅ©ng khÃ´ng biáº¿t ğŸ˜¥', 'VÅ© Äáº¡t Pháº¡m rule gÃ¬ váº­y báº¡n, mÃ¬nh chÆ°a up bao giá» nÃªn cÅ©ng khÃ´ng biáº¿t ğŸ˜¥', 'MÃ¬nh cÅ©ng k rÃµ rule á»Ÿ má»¥c nÃ o nhÆ°ng Ä‘áº¡i loáº¡i lÃ  nhÆ° nÃ y Ã¡ b']","VÅ© Äáº¡t Pháº¡m rule gÃ¬ váº­y báº¡n, mÃ¬nh chÆ°a up bao giá» nÃªn cÅ©ng khÃ´ng biáº¿t ğŸ˜¥",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['extension nhÆ° nÃ y sáº½ k up lÃªn Ä‘c store Ä‘Ã¢u ad Ä‘á»«ng mong ğŸ˜‚, vi pháº¡m rule rá»“i áº¥y', 'VÅ© Äáº¡t Pháº¡m rule gÃ¬ váº­y báº¡n, mÃ¬nh chÆ°a up bao giá» nÃªn cÅ©ng khÃ´ng biáº¿t ğŸ˜¥', 'VÅ© Äáº¡t Pháº¡m rule gÃ¬ váº­y báº¡n, mÃ¬nh chÆ°a up bao giá» nÃªn cÅ©ng khÃ´ng biáº¿t ğŸ˜¥', 'MÃ¬nh cÅ©ng k rÃµ rule á»Ÿ má»¥c nÃ o nhÆ°ng Ä‘áº¡i loáº¡i lÃ  nhÆ° nÃ y Ã¡ b']",MÃ¬nh cÅ©ng k rÃµ rule á»Ÿ má»¥c nÃ o nhÆ°ng Ä‘áº¡i loáº¡i lÃ  nhÆ° nÃ y Ã¡ b,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['extension nhÆ° nÃ y sáº½ k up lÃªn Ä‘c store Ä‘Ã¢u ad Ä‘á»«ng mong ğŸ˜‚, vi pháº¡m rule rá»“i áº¥y', 'VÅ© Äáº¡t Pháº¡m rule gÃ¬ váº­y báº¡n, mÃ¬nh chÆ°a up bao giá» nÃªn cÅ©ng khÃ´ng biáº¿t ğŸ˜¥', 'VÅ© Äáº¡t Pháº¡m rule gÃ¬ váº­y báº¡n, mÃ¬nh chÆ°a up bao giá» nÃªn cÅ©ng khÃ´ng biáº¿t ğŸ˜¥', 'MÃ¬nh cÅ©ng k rÃµ rule á»Ÿ má»¥c nÃ o nhÆ°ng Ä‘áº¡i loáº¡i lÃ  nhÆ° nÃ y Ã¡ b']","VÅ© Äáº¡t Pháº¡m náº¿u váº­y máº¥y tool download story video, download full album fb cÅ©ng Ä‘Ã¢u Ä‘c phÃ©p nhá»‰ ğŸ¤”",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"alo alo, em Ä‘ang coi phim nÃªn cho em Ä‘á»ƒ láº¡i má»™t tia tháº§n thá»©c :v",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,NhÆ° Ngá»c Kiá»u,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,NhÆ°ng mÃ  tháº­t ra lÃ  ko biáº¿t cÃ i lÃ m sao ğŸ¤·,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['NhÆ°ng mÃ  tháº­t ra lÃ  ko biáº¿t cÃ i lÃ m sao ğŸ¤·'],"Nguyá»…n Pháº¡m VÆ°Æ¡ng SÆ¡n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"NgÃ´ Há»¯u Äang anh trai vÃ o giáº£i nghÄ©a giÃºp em, lÃº quÃ¡ rá»“i anh",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['NgÃ´ Há»¯u Äang anh trai vÃ o giáº£i nghÄ©a giÃºp em, lÃº quÃ¡ rá»“i anh']","LÃª Huá»³nh Háº£i ÄÄƒng thÃ¬ má»—i láº§n mÃ¬nh gá»­i tin nháº¯n hay cmt thÃ¬ extension nÃ³ ghi láº¡i,mÃ¬nh cÃ³ xÃ³a tin nháº¯n thÃ¬ á»Ÿ kia váº«n lÆ°u nÃªn váº«n xem dc thÃ´i :V,cÃ³ code github kÃ¬a,clone vá» rá»“i add vÃ o extension trÃªn wed lÃ  dc",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,cÃ¡i nÃ y cÃ³ xem Ä‘Æ°á»£c tin nháº¯n cá»§a ngÆ°á»i ta há» gá»¡ ko mn,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cÃ¡i nÃ y cÃ³ xem Ä‘Æ°á»£c tin nháº¯n cá»§a ngÆ°á»i ta há» gá»¡ ko mn', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh CÃ i tool trÆ°á»›c khi tin nháº¯n bá»‹ gá»¡ =))', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh CÃ i tool trÆ°á»›c khi tin nháº¯n bá»‹ gá»¡ =))', 'LÃª CÃ´ng Tuáº¥n VÅ© giá» cÃ i Ä‘á»ƒ xÃ i cho mai má»‘t :(((']",Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : )),1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cÃ¡i nÃ y cÃ³ xem Ä‘Æ°á»£c tin nháº¯n cá»§a ngÆ°á»i ta há» gá»¡ ko mn', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh CÃ i tool trÆ°á»›c khi tin nháº¯n bá»‹ gá»¡ =))', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh CÃ i tool trÆ°á»›c khi tin nháº¯n bá»‹ gá»¡ =))', 'LÃª CÃ´ng Tuáº¥n VÅ© giá» cÃ i Ä‘á»ƒ xÃ i cho mai má»‘t :(((']",Quang Minh CÃ i tool trÆ°á»›c khi tin nháº¯n bá»‹ gá»¡ =)),1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cÃ¡i nÃ y cÃ³ xem Ä‘Æ°á»£c tin nháº¯n cá»§a ngÆ°á»i ta há» gá»¡ ko mn', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh CÃ i tool trÆ°á»›c khi tin nháº¯n bá»‹ gá»¡ =))', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh CÃ i tool trÆ°á»›c khi tin nháº¯n bá»‹ gá»¡ =))', 'LÃª CÃ´ng Tuáº¥n VÅ© giá» cÃ i Ä‘á»ƒ xÃ i cho mai má»‘t :(((']",LÃª CÃ´ng Tuáº¥n VÅ© giá» cÃ i Ä‘á»ƒ xÃ i cho mai má»‘t :(((,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cÃ¡i nÃ y cÃ³ xem Ä‘Æ°á»£c tin nháº¯n cá»§a ngÆ°á»i ta há» gá»¡ ko mn', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh CÃ i tool trÆ°á»›c khi tin nháº¯n bá»‹ gá»¡ =))', 'Quang Minh xem Ä‘Æ°á»£c háº¿t luÃ´n báº¡n eii : ))', 'Quang Minh CÃ i tool trÆ°á»›c khi tin nháº¯n bá»‹ gá»¡ =))', 'LÃª CÃ´ng Tuáº¥n VÅ© giá» cÃ i Ä‘á»ƒ xÃ i cho mai má»‘t :(((']",TÆ°á»ng Kháº£i Æ°á»›c gÃ¬ bÃ i nÃ y Ä‘Äƒng sá»›m 2 tuáº§n :v,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Æ°á»›c gÃ¬ cÃ³ tool láº¥y láº¡i nhá»¯ng tin nháº¯n Ä‘Ã£ xÃ³a,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Æ°á»›c gÃ¬ cÃ³ tool láº¥y láº¡i nhá»¯ng tin nháº¯n Ä‘Ã£ xÃ³a', 'Trá»‹nh TÃº xÃ³a r thÃ¬ báº£n thÃ¢n Facebook chÆ°a cháº¯c cÃ²n lÆ°u Ä‘á»ƒ mÃ  mÃ¬nh láº¥y láº¡i bÃ¡c áº¡\n\nGiá» náº¿u báº¯t chÆ°á»›c cÃ¡ch lÃ m cá»§a bÃ i Ä‘Äƒng nÃ y thÃ¬ pháº£i luÃ´n lÆ°u láº¡i tin nháº¯n má»—i khi nháº­n Ä‘c']","Trá»‹nh TÃº xÃ³a r thÃ¬ báº£n thÃ¢n Facebook chÆ°a cháº¯c cÃ²n lÆ°u Ä‘á»ƒ mÃ  mÃ¬nh láº¥y láº¡i bÃ¡c áº¡

Giá» náº¿u báº¯t chÆ°á»›c cÃ¡ch lÃ m cá»§a bÃ i Ä‘Äƒng nÃ y thÃ¬ pháº£i luÃ´n lÆ°u láº¡i tin nháº¯n má»—i khi nháº­n Ä‘c",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Æ°á»›c gÃ¬ cÃ³ tool láº¥y láº¡i nhá»¯ng tin nháº¯n Ä‘Ã£ xÃ³a', 'Trá»‹nh TÃº xÃ³a r thÃ¬ báº£n thÃ¢n Facebook chÆ°a cháº¯c cÃ²n lÆ°u Ä‘á»ƒ mÃ  mÃ¬nh láº¥y láº¡i bÃ¡c áº¡\n\nGiá» náº¿u báº¯t chÆ°á»›c cÃ¡ch lÃ m cá»§a bÃ i Ä‘Äƒng nÃ y thÃ¬ pháº£i luÃ´n lÆ°u láº¡i tin nháº¯n má»—i khi nháº­n Ä‘c']",CÃ³ cÃ¡ch kháº£ quan hÆ¡n lÃ  lÃ m theo kiá»ƒu cá»© ai nháº¯n cho mÃ¬nh lÃ  mÃ¬nh cÃ³ con bot tá»± Ä‘á»™ng nháº¯n láº¡i cho clone,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,mÃ¬nh vá»«a thá»­ thÃ¬ facebook bÃ¡o vÃ y lÃ  sao cÃ¡c bÃ¡c??,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['mÃ¬nh vá»«a thá»­ thÃ¬ facebook bÃ¡o vÃ y lÃ  sao cÃ¡c bÃ¡c??', 'Erich Nguyá»…n lÃ  báº¡n Ä‘ang bÆ°á»›c vÃ´ con Ä‘Æ°á»ng láº­p trÃ¬nh viÃªn rá»“i Ã¡', 'Erich Nguyá»…n lÃ  báº¡n Ä‘ang bÆ°á»›c vÃ´ con Ä‘Æ°á»ng láº­p trÃ¬nh viÃªn rá»“i Ã¡', 'cÃ³ khi nÃ o nghá»‹ch nghá»‹ch bá»‹ ""hack"" face luÃ´n khÃ´ng nhá»‰ :D']",Erich Nguyá»…n lÃ  báº¡n Ä‘ang bÆ°á»›c vÃ´ con Ä‘Æ°á»ng láº­p trÃ¬nh viÃªn rá»“i Ã¡,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['mÃ¬nh vá»«a thá»­ thÃ¬ facebook bÃ¡o vÃ y lÃ  sao cÃ¡c bÃ¡c??', 'Erich Nguyá»…n lÃ  báº¡n Ä‘ang bÆ°á»›c vÃ´ con Ä‘Æ°á»ng láº­p trÃ¬nh viÃªn rá»“i Ã¡', 'Erich Nguyá»…n lÃ  báº¡n Ä‘ang bÆ°á»›c vÃ´ con Ä‘Æ°á»ng láº­p trÃ¬nh viÃªn rá»“i Ã¡', 'cÃ³ khi nÃ o nghá»‹ch nghá»‹ch bá»‹ ""hack"" face luÃ´n khÃ´ng nhá»‰ :D']","cÃ³ khi nÃ o nghá»‹ch nghá»‹ch bá»‹ ""hack"" face luÃ´n khÃ´ng nhá»‰ :D",
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['mÃ¬nh vá»«a thá»­ thÃ¬ facebook bÃ¡o vÃ y lÃ  sao cÃ¡c bÃ¡c??', 'Erich Nguyá»…n lÃ  báº¡n Ä‘ang bÆ°á»›c vÃ´ con Ä‘Æ°á»ng láº­p trÃ¬nh viÃªn rá»“i Ã¡', 'Erich Nguyá»…n lÃ  báº¡n Ä‘ang bÆ°á»›c vÃ´ con Ä‘Æ°á»ng láº­p trÃ¬nh viÃªn rá»“i Ã¡', 'cÃ³ khi nÃ o nghá»‹ch nghá»‹ch bá»‹ ""hack"" face luÃ´n khÃ´ng nhá»‰ :D']",Erich Nguyá»…n nÃ³ khuyÃªn náº¿u bÃ¡c khÃ´ng pháº£i Imposter thÃ¬ hÃ£y thÃ nh tháº­t khÃ´ng thÃ¬ bá»‹ bay acc Ä‘Ã³ğŸ§,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"CÃ¡i nÃ y nÃ³ khÃ´ng khÃ³, nhÆ°ng bÃ i viáº¿t nÃ y thÃº vá»‹ á»Ÿ cÃ¡ch dáº«n dáº¯t, giáº£i quyáº¿t váº¥n Ä‘á». BÃ¡c nÃ o pro biáº¿t rá»“i thÃ¬ cÃ³ thá»ƒ lÆ°á»›t qua mÃ  :D",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Fork láº¹ vá» ngáº«m,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,tin Ä‘Ã³ Ä‘Æ°á»£c lÆ°u vÃ²a Ä‘Ã¢u Ä‘Ã³ ad,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['tin Ä‘Ã³ Ä‘Æ°á»£c lÆ°u vÃ²a Ä‘Ã¢u Ä‘Ã³ ad'],Pháº¡m ThÃ nh Nam lÃ m phÃ¡t a,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,NguyÃªn lÃ½ lÃ  nÃ³ lÆ°u toÃ n bá»™ tin nháº¯n vÃ o ra cá»§a mess tá»« lÃºc cÃ i extension.,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nguyá»…n Quá»‘c Anh m há»c cÃ¡i lÃ y Ã ,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"CÃ¡i nÃ y cÃ³ xem láº¡i tin nháº¯n trong nhÃ³m Ä‘Ã£ gá»¡ khÃ´ng báº¡n, cÃ¡i kb2a tool tÃ´i Ä‘Äƒng kÃ½ chá»‰ xem Ä‘Æ°á»£c má»—i tin nháº¯n giá»¯a 2 ngÆ°á»i thÃ´i",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ¡i nÃ y cÃ³ xem láº¡i tin nháº¯n trong nhÃ³m Ä‘Ã£ gá»¡ khÃ´ng báº¡n, cÃ¡i kb2a tool tÃ´i Ä‘Äƒng kÃ½ chá»‰ xem Ä‘Æ°á»£c má»—i tin nháº¯n giá»¯a 2 ngÆ°á»i thÃ´i', 'Triá»‡u Báº£o Ä‘Æ°á»£c Ã¡ báº¡n, nhÆ°ng mÃ  trong console nÃªn hÆ¡i khÃ³ xem lá»‹ch sá»­, mÃ¬nh cÅ©ng chÆ°a hiá»ƒn thá»‹ tin nháº¯n cá»§a ai gá»­i, nÃªn náº¿u muá»‘n Ä‘áº¹p bÃ¡c cá»© dÃ¹ng kb2atool nhÃ©', 'Triá»‡u Báº£o Ä‘Æ°á»£c Ã¡ báº¡n, nhÆ°ng mÃ  trong console nÃªn hÆ¡i khÃ³ xem lá»‹ch sá»­, mÃ¬nh cÅ©ng chÆ°a hiá»ƒn thá»‹ tin nháº¯n cá»§a ai gá»­i, nÃªn náº¿u muá»‘n Ä‘áº¹p bÃ¡c cá»© dÃ¹ng kb2atool nhÃ©', 'Triá»‡u Báº£o trong nhÃ³m váº«n hiá»ƒn thá»‹ mÃ  báº¡n?']","Triá»‡u Báº£o Ä‘Æ°á»£c Ã¡ báº¡n, nhÆ°ng mÃ  trong console nÃªn hÆ¡i khÃ³ xem lá»‹ch sá»­, mÃ¬nh cÅ©ng chÆ°a hiá»ƒn thá»‹ tin nháº¯n cá»§a ai gá»­i, nÃªn náº¿u muá»‘n Ä‘áº¹p bÃ¡c cá»© dÃ¹ng kb2atool nhÃ©",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ¡i nÃ y cÃ³ xem láº¡i tin nháº¯n trong nhÃ³m Ä‘Ã£ gá»¡ khÃ´ng báº¡n, cÃ¡i kb2a tool tÃ´i Ä‘Äƒng kÃ½ chá»‰ xem Ä‘Æ°á»£c má»—i tin nháº¯n giá»¯a 2 ngÆ°á»i thÃ´i', 'Triá»‡u Báº£o Ä‘Æ°á»£c Ã¡ báº¡n, nhÆ°ng mÃ  trong console nÃªn hÆ¡i khÃ³ xem lá»‹ch sá»­, mÃ¬nh cÅ©ng chÆ°a hiá»ƒn thá»‹ tin nháº¯n cá»§a ai gá»­i, nÃªn náº¿u muá»‘n Ä‘áº¹p bÃ¡c cá»© dÃ¹ng kb2atool nhÃ©', 'Triá»‡u Báº£o Ä‘Æ°á»£c Ã¡ báº¡n, nhÆ°ng mÃ  trong console nÃªn hÆ¡i khÃ³ xem lá»‹ch sá»­, mÃ¬nh cÅ©ng chÆ°a hiá»ƒn thá»‹ tin nháº¯n cá»§a ai gá»­i, nÃªn náº¿u muá»‘n Ä‘áº¹p bÃ¡c cá»© dÃ¹ng kb2atool nhÃ©', 'Triá»‡u Báº£o trong nhÃ³m váº«n hiá»ƒn thá»‹ mÃ  báº¡n?']",Triá»‡u Báº£o trong nhÃ³m váº«n hiá»ƒn thá»‹ mÃ  báº¡n?,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ¡i nÃ y cÃ³ xem láº¡i tin nháº¯n trong nhÃ³m Ä‘Ã£ gá»¡ khÃ´ng báº¡n, cÃ¡i kb2a tool tÃ´i Ä‘Äƒng kÃ½ chá»‰ xem Ä‘Æ°á»£c má»—i tin nháº¯n giá»¯a 2 ngÆ°á»i thÃ´i', 'Triá»‡u Báº£o Ä‘Æ°á»£c Ã¡ báº¡n, nhÆ°ng mÃ  trong console nÃªn hÆ¡i khÃ³ xem lá»‹ch sá»­, mÃ¬nh cÅ©ng chÆ°a hiá»ƒn thá»‹ tin nháº¯n cá»§a ai gá»­i, nÃªn náº¿u muá»‘n Ä‘áº¹p bÃ¡c cá»© dÃ¹ng kb2atool nhÃ©', 'Triá»‡u Báº£o Ä‘Æ°á»£c Ã¡ báº¡n, nhÆ°ng mÃ  trong console nÃªn hÆ¡i khÃ³ xem lá»‹ch sá»­, mÃ¬nh cÅ©ng chÆ°a hiá»ƒn thá»‹ tin nháº¯n cá»§a ai gá»­i, nÃªn náº¿u muá»‘n Ä‘áº¹p bÃ¡c cá»© dÃ¹ng kb2atool nhÃ©', 'Triá»‡u Báº£o trong nhÃ³m váº«n hiá»ƒn thá»‹ mÃ  báº¡n?']",Triá»‡u Báº£o bÃ¡c lÃªn premium lÃ  xem Ä‘Æ°á»£c háº¿t nhÃ©,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nguyá»…n NgÃ¢n sÃ¡ng má»›i nÃ³i,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,CÃ³ xem Ä‘Æ°á»£c video Ä‘Ã£ gá»¡ khÃ´ng áº¡?,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ³ xem Ä‘Æ°á»£c video Ä‘Ã£ gá»¡ khÃ´ng áº¡?', 'Van Le ko']",Van Le ko,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ³ xem Ä‘Æ°á»£c video Ä‘Ã£ gá»¡ khÃ´ng áº¡?', 'Van Le ko']","BÃ¹i Nguyá»…n Quang Duy tiáº¿c tháº¿, láº¡i khÃ´ng download vá» Ä‘Æ°á»£c",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Hay quÃ¡aa,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Ngá»c Quá»³nh u lÃ  trÃ²i,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['Ngá»c Quá»³nh u lÃ  trÃ²i'],Cáº©m Ngá»c thÃ nh dev nhá» soulmate tÃ´i cÃ  giá»±t cÃ  háº©y,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,CÃ³ kháº£ nÄƒng chÃ¨n tin nháº¯n báº¥t ká»³ vÃ o khoáº£ng thá»i gian quÃ¡ khá»© trong mess ko thá»›t,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ³ kháº£ nÄƒng chÃ¨n tin nháº¯n báº¥t ká»³ vÃ o khoáº£ng thá»i gian quÃ¡ khá»© trong mess ko thá»›t', 'Äá»— Äá»©c Hiá»‡p lÃ m Ä‘Æ°á»£c tháº¿ thÃ¬ mÃ¬nh vÃ o lÃ m cho fb rá»“i bÃ¡c ğŸ˜‚']",Äá»— Äá»©c Hiá»‡p lÃ m Ä‘Æ°á»£c tháº¿ thÃ¬ mÃ¬nh vÃ o lÃ m cho fb rá»“i bÃ¡c ğŸ˜‚,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ³ kháº£ nÄƒng chÃ¨n tin nháº¯n báº¥t ká»³ vÃ o khoáº£ng thá»i gian quÃ¡ khá»© trong mess ko thá»›t', 'Äá»— Äá»©c Hiá»‡p lÃ m Ä‘Æ°á»£c tháº¿ thÃ¬ mÃ¬nh vÃ o lÃ m cho fb rá»“i bÃ¡c ğŸ˜‚']","Hoang Tran ok thá»›t, chÃºc thá»›t má»™t buá»•i tá»‘i vui váº»",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,cÃ¡c tin nháº¯n tá»« lÃ¢u rá»“i cÃ³ xem láº¡i dc ko váº­y mn ?,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cÃ¡c tin nháº¯n tá»« lÃ¢u rá»“i cÃ³ xem láº¡i dc ko váº­y mn ?', 'Tháº¯ng VÆ°Æ¡ng náº¿u thá»i Ä‘iá»ƒm thu há»“i tin nháº¯n Ä‘Ã£ cÃ i ext vÃ o rá»“i thÃ¬ má»›i xem Ä‘c nhÃ©', 'Tháº¯ng VÆ°Æ¡ng náº¿u thá»i Ä‘iá»ƒm thu há»“i tin nháº¯n Ä‘Ã£ cÃ i ext vÃ o rá»“i thÃ¬ má»›i xem Ä‘c nhÃ©', 'uhm, buá»“n ghÃª.']",Tháº¯ng VÆ°Æ¡ng náº¿u thá»i Ä‘iá»ƒm thu há»“i tin nháº¯n Ä‘Ã£ cÃ i ext vÃ o rá»“i thÃ¬ má»›i xem Ä‘c nhÃ©,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cÃ¡c tin nháº¯n tá»« lÃ¢u rá»“i cÃ³ xem láº¡i dc ko váº­y mn ?', 'Tháº¯ng VÆ°Æ¡ng náº¿u thá»i Ä‘iá»ƒm thu há»“i tin nháº¯n Ä‘Ã£ cÃ i ext vÃ o rá»“i thÃ¬ má»›i xem Ä‘c nhÃ©', 'Tháº¯ng VÆ°Æ¡ng náº¿u thá»i Ä‘iá»ƒm thu há»“i tin nháº¯n Ä‘Ã£ cÃ i ext vÃ o rá»“i thÃ¬ má»›i xem Ä‘c nhÃ©', 'uhm, buá»“n ghÃª.']","uhm, buá»“n ghÃª.",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cÃ¡c tin nháº¯n tá»« lÃ¢u rá»“i cÃ³ xem láº¡i dc ko váº­y mn ?', 'Tháº¯ng VÆ°Æ¡ng náº¿u thá»i Ä‘iá»ƒm thu há»“i tin nháº¯n Ä‘Ã£ cÃ i ext vÃ o rá»“i thÃ¬ má»›i xem Ä‘c nhÃ©', 'Tháº¯ng VÆ°Æ¡ng náº¿u thá»i Ä‘iá»ƒm thu há»“i tin nháº¯n Ä‘Ã£ cÃ i ext vÃ o rá»“i thÃ¬ má»›i xem Ä‘c nhÃ©', 'uhm, buá»“n ghÃª.']",Tháº¯ng VÆ°Æ¡ng náº¿u cÃ³ db hay chá»— nÃ o Ä‘Ã³ Ä‘á»ƒ lÆ°u thÃ¬ Ä‘c nha,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,ÄÃ£ táº·ng bÃ¡c má»™t star ğŸ˜ ráº¥t há»¯u Ã­ch,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Äá»c Ä‘c cmt zalo thÃ¬ thÃ´i... :)),1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Äá»c Ä‘c cmt zalo thÃ¬ thÃ´i... :))', 'NguyÃªn Em kÃ©o vá» phiÃªn báº£n cÅ© áº¥y', 'NguyÃªn Em kÃ©o vá» phiÃªn báº£n cÅ© áº¥y', 'Minh Khang Ä‘á»ƒ test']",NguyÃªn Em kÃ©o vá» phiÃªn báº£n cÅ© áº¥y,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Äá»c Ä‘c cmt zalo thÃ¬ thÃ´i... :))', 'NguyÃªn Em kÃ©o vá» phiÃªn báº£n cÅ© áº¥y', 'NguyÃªn Em kÃ©o vá» phiÃªn báº£n cÅ© áº¥y', 'Minh Khang Ä‘á»ƒ test']",Minh Khang Ä‘á»ƒ test,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['Äá»c Ä‘c cmt zalo thÃ¬ thÃ´i... :))', 'NguyÃªn Em kÃ©o vá» phiÃªn báº£n cÅ© áº¥y', 'NguyÃªn Em kÃ©o vá» phiÃªn báº£n cÅ© áº¥y', 'Minh Khang Ä‘á»ƒ test']",Minh Khang ko Ä‘Æ°á»£c Ä‘Ã¢u bÃ¡c áº¡ =)),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,váº«n chÆ°a biáº¿t lÃ m nhÆ° lÃ o :),1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['váº«n chÆ°a biáº¿t lÃ m nhÆ° lÃ o :)', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'rÃ²i lÃ m sao Ä‘á»ƒ xem tn áº¡', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'rÃ²i lÃ m sao Ä‘á»ƒ xem tn áº¡', 'em lÃ m Ä‘áº¿n Ä‘Ã³ xong áº¥n vÃ o ext nÃ³ khÃ´ng hiá»‡n ra cÃ¡i gÃ¬ cáº£']","VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['váº«n chÆ°a biáº¿t lÃ m nhÆ° lÃ o :)', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'rÃ²i lÃ m sao Ä‘á»ƒ xem tn áº¡', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'rÃ²i lÃ m sao Ä‘á»ƒ xem tn áº¡', 'em lÃ m Ä‘áº¿n Ä‘Ã³ xong áº¥n vÃ o ext nÃ³ khÃ´ng hiá»‡n ra cÃ¡i gÃ¬ cáº£']",rÃ²i lÃ m sao Ä‘á»ƒ xem tn áº¡,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['váº«n chÆ°a biáº¿t lÃ m nhÆ° lÃ o :)', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'rÃ²i lÃ m sao Ä‘á»ƒ xem tn áº¡', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'rÃ²i lÃ m sao Ä‘á»ƒ xem tn áº¡', 'em lÃ m Ä‘áº¿n Ä‘Ã³ xong áº¥n vÃ o ext nÃ³ khÃ´ng hiá»‡n ra cÃ¡i gÃ¬ cáº£']",em lÃ m Ä‘áº¿n Ä‘Ã³ xong áº¥n vÃ o ext nÃ³ khÃ´ng hiá»‡n ra cÃ¡i gÃ¬ cáº£,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['váº«n chÆ°a biáº¿t lÃ m nhÆ° lÃ o :)', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'rÃ²i lÃ m sao Ä‘á»ƒ xem tn áº¡', 'VÅ© QuÃ¢n báº¡n vÃ o link github mÃ¬nh Ä‘Æ°a, rá»“i táº£i code vá», giáº£i nÃ©n ra, rá»“i vÃ o trang quáº£n lÃ½ extensions cá»§a trÃ¬nh duyá»‡t báº¡n dÃ¹ng, rá»“i kÃ©o tháº£ folder Ä‘Ã£ giáº£i nÃ©n vÃ o lÃ  xong nhÃ©', 'rÃ²i lÃ m sao Ä‘á»ƒ xem tn áº¡', 'em lÃ m Ä‘áº¿n Ä‘Ã³ xong áº¥n vÃ o ext nÃ³ khÃ´ng hiá»‡n ra cÃ¡i gÃ¬ cáº£']","VÅ© QuÃ¢n Báº¡n áº¥n F12 Ä‘á»ƒ má»Ÿ giao diá»‡n console nhÃ©, toÃ n bá»™ tin nháº¯n tá»›i vÃ  Ä‘i mÃ¬nh sáº½ hiá»ƒn thá»‹ trong Ä‘Ã³. Náº¿u cÃ³ ai Ä‘Ã³ thu há»“i tin nháº¯n, thÃ¬ báº¡n chá»‰ cáº§n vÃ´ Ä‘Ã³ coi láº¡i lá»‹ch sá»­ tin nháº¯n lÃ  xong",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Ä‘á»ƒ test thá»­, cáº£m Æ¡n chá»§ tus :>",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,HÃ³ng báº£n Zalo hehehe,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Äáº·ng Há»¯u TÃ¢n chÃº TÃ¢n lÃ m máº¥y nÃ y Ä‘c khum,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['Äáº·ng Há»¯u TÃ¢n chÃº TÃ¢n lÃ m máº¥y nÃ y Ä‘c khum'],em bÃªn Ä‘á»“ hoáº¡ 3d chá»© ko bÃªn cá»‘t Ä‘Æ¡ :v,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,tks bÃ¡c <3,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,lÃ m cho zalo Ä‘i thá»›t,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['lÃ m cho zalo Ä‘i thá»›t'],"Hoa TÃº zalo web mÃ¬nh má»›i xem thá»­ thÃ¬ nÃ³ khÃ´ng dÃ¹ng websocket Ã¡ bÃ¡c, kiá»ƒu nÃ y khÃ´ng Ä‘em Ã¡p dá»¥ng qua Ä‘Æ°á»£c rá»“i",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Bá»• Ã­ch Ä‘áº¥y, náº¿u bÃ i viáº¿t xuáº¥t hiá»‡n sá»›m hÆ¡n 2 nÄƒm trÆ°á»›c thÃ¬ cÃ³ láº½ tÃ´i ráº¥t cáº§n. CÃ²n giá» cháº³ng quan tÃ¢m máº¥y, ai cho Ä‘á»c thÃ¬ Ä‘á»c khÃ´ng thÃ¬ thÃ´i. DÃ¹ sao cáº£m Æ¡n bro ráº¥t nhiá»u.",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,CÃ³ báº£n cho instagram khÃ´ng bÃ¡c,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ³ báº£n cho instagram khÃ´ng bÃ¡c', 'Dat D. Le Ã´i mÃ¬nh cÅ©ng cáº§n cho ig', 'Dat D. Le Ã´i mÃ¬nh cÅ©ng cáº§n cho ig', 'Dat D. Le Ãºi insta cÅ©ng cÃ³ websocket chat nÃ¨, cÃ¹ng táº¡o bá»Ÿi fb cÃ³ khÃ¡c, cháº¯c chá»‰nh sá»­a xÃ­u lÃ  Ä‘em qua cÅ©ng cháº¡y Ä‘Æ°á»£c Ã¡']",Dat D. Le Ã´i mÃ¬nh cÅ©ng cáº§n cho ig,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ³ báº£n cho instagram khÃ´ng bÃ¡c', 'Dat D. Le Ã´i mÃ¬nh cÅ©ng cáº§n cho ig', 'Dat D. Le Ã´i mÃ¬nh cÅ©ng cáº§n cho ig', 'Dat D. Le Ãºi insta cÅ©ng cÃ³ websocket chat nÃ¨, cÃ¹ng táº¡o bá»Ÿi fb cÃ³ khÃ¡c, cháº¯c chá»‰nh sá»­a xÃ­u lÃ  Ä‘em qua cÅ©ng cháº¡y Ä‘Æ°á»£c Ã¡']","Dat D. Le Ãºi insta cÅ©ng cÃ³ websocket chat nÃ¨, cÃ¹ng táº¡o bá»Ÿi fb cÃ³ khÃ¡c, cháº¯c chá»‰nh sá»­a xÃ­u lÃ  Ä‘em qua cÅ©ng cháº¡y Ä‘Æ°á»£c Ã¡",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['CÃ³ báº£n cho instagram khÃ´ng bÃ¡c', 'Dat D. Le Ã´i mÃ¬nh cÅ©ng cáº§n cho ig', 'Dat D. Le Ã´i mÃ¬nh cÅ©ng cáº§n cho ig', 'Dat D. Le Ãºi insta cÅ©ng cÃ³ websocket chat nÃ¨, cÃ¹ng táº¡o bá»Ÿi fb cÃ³ khÃ¡c, cháº¯c chá»‰nh sá»­a xÃ­u lÃ  Ä‘em qua cÅ©ng cháº¡y Ä‘Æ°á»£c Ã¡']",Hoang Tran bÃ¡c chá»‰nh giÃºp em r share láº¡i trÃªn github Ä‘c khÃ´ng áº¡? Tks bÃ¡c nhiá»u,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,ghim ghim cá»±c máº¡nh,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,saved â¤ thanks bÃ¡c,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Trá»‹nh Thá»‹ Háº¡nh.,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,QuÃ o :o,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"chá»‰ Ä‘c náº¿u Ä‘ang chat báº±ng trÃ¬nh duyá»‡t Ä‘c khÃ´ng b
cÃ²n ngta nháº¯n r thu há»“i mÃ  mÃ¬nh khÃ´ng báº­t trÃ¬nh duyá»‡t sáº½ khÃ´ng Ä‘c ?",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['chá»‰ Ä‘c náº¿u Ä‘ang chat báº±ng trÃ¬nh duyá»‡t Ä‘c khÃ´ng b\ncÃ²n ngta nháº¯n r thu há»“i mÃ  mÃ¬nh khÃ´ng báº­t trÃ¬nh duyá»‡t sáº½ khÃ´ng Ä‘c ?', 'VÅ© Minh hÃ³ng hihihuhu']",VÅ© Minh hÃ³ng hihihuhu,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['chá»‰ Ä‘c náº¿u Ä‘ang chat báº±ng trÃ¬nh duyá»‡t Ä‘c khÃ´ng b\ncÃ²n ngta nháº¯n r thu há»“i mÃ  mÃ¬nh khÃ´ng báº­t trÃ¬nh duyá»‡t sáº½ khÃ´ng Ä‘c ?', 'VÅ© Minh hÃ³ng hihihuhu']",ÄÃºng rá»“i báº¡n,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"MÃ¬nh há»©ng thÃº nhiá»u hÆ¡n vá»›i regex :v
CÃ¡c trÃ¹m regex giáº£i thÃ­ch giÃºp mÃ¬nh vá»›i :3",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['MÃ¬nh há»©ng thÃº nhiá»u hÆ¡n vá»›i regex :v\nCÃ¡c trÃ¹m regex giáº£i thÃ­ch giÃºp mÃ¬nh vá»›i :3', 'SÆ¡n ThiÃªn mÃ¬nh cÃ³ giáº£i thÃ­ch trong mÃ´ táº£ cá»§a hÃ¬nh rá»“i nhÃ©']",SÆ¡n ThiÃªn mÃ¬nh cÃ³ giáº£i thÃ­ch trong mÃ´ táº£ cá»§a hÃ¬nh rá»“i nhÃ©,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['MÃ¬nh há»©ng thÃº nhiá»u hÆ¡n vá»›i regex :v\nCÃ¡c trÃ¹m regex giáº£i thÃ­ch giÃºp mÃ¬nh vá»›i :3', 'SÆ¡n ThiÃªn mÃ¬nh cÃ³ giáº£i thÃ­ch trong mÃ´ táº£ cá»§a hÃ¬nh rá»“i nhÃ©']",Hoang Tran Cháº¯c mÃ¬nh pháº£i há»c thÃªm vá» regex chá»© nhiá»u cÃ¡i Ä‘á»c hiá»ƒu Ä‘Æ°á»£c :v,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,bá»• Ã­ch :v,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Váº­y lÃ  dÃ¹ bÃªn kia thu há»“i tin nháº¯n mÃ¬nh váº«n xem láº¡i Ä‘Æ°á»£cğŸ¤” hay tháº­t,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,LÃª Quá»‘c BÃ¬nh kb2a =))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Coi láº¡i hÃ¬nh áº£nh Ä‘á»‘i phÆ°Æ¡ng Ä‘Ã£ gá»¡ k Ä‘Æ°á»£c bÃ¡c áº¡ .,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nguyá»…n VÄƒn Báº£o gáº¯t chÆ°a :))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Ã€ tiá»‡n thá»ƒ cho e há»i luÃ´n cÃ³ bÃ¡c nÃ o bá»‹ táº¡o file kiá»ƒu nhÆ° nÃ y sau khi cÃ i Redis khÃ´ng nhá»‰: RedisQFork_xxxx.dat, má»—i ngÃ y nÃ³ táº·ng e 15GB chiáº¿m dá»¥ng á»• cá»©ng xong toang luÃ´n",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Em Ä‘á»ƒ Ä‘Ã¢y lÃ¡t xem láº¡i áº¡:)),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Náº¿u thá»±c sá»± Ä‘á»‘i tÃ¡c Ä‘Ã£ thu há»“i tin nháº¯n, háºµng pháº£i cÃ³ lÃ½ do... Äá»c Ä‘Æ°á»£c cÃ³ khi hiá»ƒu nháº§m ğŸ˜Š, an nhiÃªn Ä‘i cho Ä‘á»i thÃªm pháº» ğŸ˜ŠğŸ˜Š",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,NghÄ©a lÃ  khÃ´ng thá»ƒ khÃ´i phuc tin nháº¯n Ä‘Ã£ xÃ³a trÆ°á»›c Ä‘Ã³ mÃ  chá»‰ cÃ³ thá»ƒ khÃ´i phá»¥c láº¡i tin nháº¯n sau khi cháº¡y script Ä‘Ã³ thÃ´i Ã  bÃ¡c? ChÃ¡n nhá»‰,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,chá»i Æ¡iiiiiiiiiiiiiiiii,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,QuÃ½ ThÃ­m,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,TrÆ°á»ng Giang,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Hay vai :)),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Hay quÃ¡ bÃ¡c, em cay cÃ¡i trÃ² thu há»“i tin nÃ y lÃ¢u láº¯m rá»“i, bÃ¡c viáº¿t ext cho firefox Ä‘c k :))",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Äá»‰nh,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,hay quad,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,em vá»«a test thÃ¬ tháº¥y nÃ³ bá»‹ lung tung giá»¯a cÃ¡c tin nháº¯n vá»›i nhau rá»“i em cÃ²n tháº¥y cáº£ post ná»¯a chá»© k pháº£i riÃªng tin nháº¯n ._.,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['em vá»«a test thÃ¬ tháº¥y nÃ³ bá»‹ lung tung giá»¯a cÃ¡c tin nháº¯n vá»›i nhau rá»“i em cÃ²n tháº¥y cáº£ post ná»¯a chá»© k pháº£i riÃªng tin nháº¯n ._.'],"Chu Tháº¿ Anh do hiá»‡n táº¡i chÆ°a biáº¿t cÃ¡ch phÃ¢n biá»‡t cÃ¡c luá»“ng dá»¯ liá»‡u sap cho phÃ¹ há»£p Ã¡ báº¡n, cÃ³ nhiá»u luá»“ng nÃ³ giá»‘ng nhau nÃªn nÃ³ tÆ°á»Ÿng tin nháº¯n luÃ´n",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Hoang Vuong há»“i trc hÃ¬nh nhÆ° a cÃ³ lÃ m 1 vá»¥ gáº§n giá»‘ng :v,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",['Hoang Vuong há»“i trc hÃ¬nh nhÆ° a cÃ³ lÃ m 1 vá»¥ gáº§n giá»‘ng :v'],VÃµ Káº¿ Khoa giá» báº­n gÃ²i em :))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nguyá»…n Trung Anh xem rá»“i lÃ m cho tao,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,TÃ´i vá»«a du hÃ nh thá»i gian háº£,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,:)) tá»± xÃ³a bÃ i luÃ´n,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Vjp pro,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Phong DÆ°Æ¡ng,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"cÃ¡ch nÃ y thÃ¬ khÃ¡ lÃ  hay, mÃ¬nh nghÄ© náº¿u lÆ°u vÃ o localstorage hay chrome storage api thÃ¬ sáº½ hay hÆ¡n áº¥y nhá»‰? lÃ m thÃªm cÃ¡i ui Ä‘á»ƒ xÃ³a tin nhÃ¢n cÅ©",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nhiá»u lÃºc má»‡t má»i tháº­t ğŸ¤£,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,cho há»i cÃ¡i nÃ y bá»‹ cÃ¡i gÃ¬ váº­y cÃ¡c bÃ¡c :v. vÃ o ko Ä‘c nÆ¡iğŸ˜•,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Ã”ng nÃ o chá»‰ cÃ¡ch táº£i áº£nh bá»‹ gá»¡ vá»›i ğŸ˜‚,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Tráº§n Quang TrÃ­ tá»± lÃ m luÃ´n nÃ¨ =)),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,KB2A nghe quen tháº¿ nhá»‰?,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Tráº§n Anh,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,HoÃ ng VÅ© Gia ThÃ´ng,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,GG,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,quÃ¡ hay,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Cá»© cÃ³ sáºµn mÃ  xÃ i. Chá»© nÃ y cÃ³ video lÃ m theo cÅ©ng k Ä‘c ğŸ¤£,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,cho em há»i kb2a fix rá»“i hay sao mÃ¬nh xem ná»¯a khÃ´ng dc nhá»‰,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"MÃ¡y cÃ¡i nÃ y dá»… nhÆ° Äƒn cÆ¡m áº¥y, báº¡n lÃ m Ä‘Æ°á»£c hay khÃ´ng thÃ¬ mÃ¬nh cÅ©ng Ä‘i Äƒn cÆ¡m Ä‘Ã¢y ğŸ˜‚",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Máº¯t ko tháº¥y, tim ko Ä‘au",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,tin nháº¯n xÃ³a lÃ¢u rá»“i cÃ³ xem Ä‘Æ°á»£c ko nhá»‰. :3,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Mid Mid,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,nháº­n ra mÃ¬nh xoÃ¡ cuá»™c trÃ² chuyá»‡n chá»© ko pháº£i gá»¡ ğŸ¥²,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"Saved :v, cáº³m Æ¡n bÃ¡c, xÃ­u Ä‘á»c áº¡",0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Xá»‹n áº¡,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,. ÄÃ¢y tÃ½ nghiÃªn cá»©u,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,kiáº¿n thá»©c nÃ y Ä‘Ã£ Ä‘c tiáº¿p thu =~=,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,CÃ³ nhá»¯ng máº¯t khÃ´ng tháº¥y tim k Ä‘au ad :)))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,tuáº§n trÆ°á»›c tháº§y má»›i giáº£ng vá» socket xong mÃ  quÃªn háº¿t rá»“i =))),0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,ÄÃ£ saved láº¡i :3 chÃºt Ä‘á»c,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Äá»©c Thiá»‡n,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,hay,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Hoa Doan,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Vu Hoang Nhan giáº£i thÃ­ch cho tao,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Hay,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nguyá»…n Háº£i Nam,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,Nguyá»…n ThÃ nh HÆ°ng xem rá»“i lÃ m rá»“i giáº£i thÃ­ch cho t..,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,LÃª Minh,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,. Bao giá» hiá»ƒu thÃ¬ lÃ m :((((,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,QuÃ½ ThÃ­m,0
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..",,"cháº¡y rá»“i cháº¡y rá»“i :)))) má»i ngÆ°á»i sáº¯p Ä‘Æ°á»£c dÃ¹ng extension ngon rá»“i, giá» chá»‰nh láº¡i giao diá»‡n cho Ä‘áº¹p lÃ  lÃªn ká»‡ Ä‘Æ°á»£c rá»“i nhÃ©",1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cháº¡y rá»“i cháº¡y rá»“i :)))) má»i ngÆ°á»i sáº¯p Ä‘Æ°á»£c dÃ¹ng extension ngon rá»“i, giá» chá»‰nh láº¡i giao diá»‡n cho Ä‘áº¹p lÃ  lÃªn ká»‡ Ä‘Æ°á»£c rá»“i nhÃ©', 'version 2 ra rá»“i nhÃ©: https://www.facebook.com/groups/j2team.community/posts/1651683238497123']",version 2 ra rá»“i nhÃ©: https://www.facebook.com/groups/j2team.community/posts/1651683238497123,1
"#j2team_share #j2team_tutorial #j2team_discussion
Tá»± táº¡o 1 extension xem láº¡i tin nháº¯n bá»‹ gá»¡ trÃªn fb messenger

(reup, mÃ¬nh lá»¡ tay xÃ³a bÃ i viáº¿t trÆ°á»›c)

ChÃ o má»i ngÆ°á»i, láº¡i lÃ  mÃ¬nh Ä‘Ã¢y.

HÃ´m qua lÆ°á»›t fb tháº¥y bÃ i viáº¿t cá»§a KB2ATool (https://www.facebook.com/KB2A.Team/posts/344823077177578) (Ä‘Ã£ cÅ©) thÃ´ng bÃ¡o ra phiÃªn báº£n má»›i cá»§a KB2A Tool. CÅ©ng nghe danh lÃ¢u nÃªn hÃ o há»©ng vÃ´ táº£i vá» xÃ i thá»­, má»›i tháº¥y extension nÃ y nÃ³ náº·ng hÆ¡n trÄƒm MB áº¡ ğŸ˜¢ KhÃ´ng hiá»ƒu code gÃ¬ mÃ  code náº·ng tháº¿, sá»± tÃ² mÃ² nÃ³ ná»•i lÃªn, tháº¿ lÃ  vÃ o xem code, xem nÃ³ hoáº¡t Ä‘á»™ng tháº¿ nÃ oâ€¦

Sau vÃ i Ä‘Æ°á»ng google (gáº§n chá»¥c tiáº¿ng), cuá»‘i cÃ¹ng mÃ¬nh Ä‘Ã£ hiá»ƒu pháº§n nÃ o cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a chá»©c nÄƒng xem tin nháº¯n Ä‘Ã£ gá»¡ trÃªn fb rá»“i. MÃ  cÃ¡i gÃ¬ hay vá»›i láº¡ thÃ¬ láº¡ muá»‘n chia sáº» vá»›i má»i ngÆ°á»i ğŸ˜

Source code cá»§a extension KB2A Tool thÃ¬ cháº¯c cháº¯n lÃ  máº¥y báº¡n dev trong team Ä‘Ã³ Ä‘Ã£ nÃ©n háº¿t rá»“i, nÃªn viá»‡c tÃ¬m hiá»ƒu code má»›i máº¥t nhiá»u thá»i gian nhÆ° váº­y. DÆ°á»›i Ä‘Ã¢y mÃ¬nh sáº½ nÃ³i tá»•ng quan vá» cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension vÃ  cÃ¡ch tÃ¬m hiá»ƒu, cÃ¡ch lÃ m tá»«ng bÆ°á»›c nhÃ©.

P/s: BÃ i viáº¿t nÃ y mÃ¬nh viáº¿t dá»±a trÃªn tinh tháº§n chia sáº» kiáº¿n thá»©c, chá»© mÃ¬nh khÃ´ng quáº£ng cÃ¡o hay chÃª bai gÃ¬ extension KB2ATool nha. Náº¿u thÃ­ch má»i ngÆ°á»i cÃ³ thá»ƒ táº£i vá» xÃ i á»§ng há»™ máº¥y báº¡n áº¥y nha, tool Ä‘Ã³ cÃ³ nhiá»u chá»©c nÄƒng láº¯m khÃ´ng chá»‰ má»—i xem tin nháº¯n Ä‘Ã£ gá»¡ Ä‘Ã¢u, vÃ  cÅ©ng cÃ³ giao diá»‡n Ä‘áº¹p ná»¯a. â¤ï¸

OK LETâ€™S GO.

SÆ¡ lÆ°á»£c cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a extension
1. LÆ¯U Háº¾T TIN NHáº®N 
MÃ¬nh sáº½ táº¡o 1 script, chÃ¨n script nÃ³ vÃ o trang facebook, script sáº½ láº¯ng nghe má»i sá»± kiá»‡n gá»«i/nháº­n tin nháº¯n, vÃ  lÆ°u láº¡i ná»™i dung tin nháº¯n kÃ¨m theo id cá»§a tin nháº¯n Ä‘Ã³.

2. KIá»‚M TRA TIN NHáº®N CÅ¨ 
KÃ¨m theo Ä‘Ã³, má»—i khi cÃ³ sá»± kiá»‡n tin nháº¯n má»›i, mÃ¬nh sáº½ kiá»ƒm tra xem trong danh sÃ¡ch Ä‘Ã£ lÆ°u cÃ³ tháº±ng nÃ o giá»‘ng id vá»›i sá»± kiá»‡n má»›i nÃ y khÃ´ng. 
Náº¿u cÃ³ thÃ¬ (ráº¥t cÃ³ thá»ƒ) Ä‘Ã¢y lÃ  sá»± kiá»‡n thu há»“i tin nháº¯n. 
=> XUáº¤T RA TIN NHáº®N ÄÆ¯á»¢C THU Há»’I

Äá»ƒ hiá»ƒu chi tiáº¿t cÃ¡ch lÃ m, má»i ngÆ°á»i Ä‘á»c tiáº¿p nhÃ© â¤ï¸

CÃ¡ch hoáº¡t Ä‘á»™ng cá»§a tin nháº¯n trong fb:
Äá»ƒ cÃ³ thá»ƒ gá»­i nháº­n tin nháº¯n trong thá»i gian thá»±c, FB khÃ´ng dÃ¹ng nhá»¯ng loáº¡i request GET PUT bÃ¬nh thÆ°á»ng nhÆ° fetch, ajax, axios, â€¦ MÃ  nÃ³ dÃ¹ng 1 cáº¥u trÃºc khÃ¡c, Ä‘Ã³ lÃ   (https://topdev.vn/blog/socket-la-gi-websocket-la-gi/), cung cáº¥p kháº£ nÄƒng giao tiáº¿p thá»i gian thá»±c giá»¯a client vÃ  server, vÃ  cÃ³ thá»ƒ lÃ  giá»¯a cÃ¡c client vá»›i nhau ná»¯a..

Náº¿u má»i ngÆ°á»i vÃ o devtool cá»§a trÃ¬nh duyá»‡t, vÃ o tab Network vÃ  lá»c request theo WS (websocket) thÃ¬ sáº½ tháº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t ná»‘i websocket Ä‘Æ°á»£c dÃ¹ng bá»Ÿi FB. 

FB cÃ³ nhiá»u káº¿t ná»‘i websocket, trong Ä‘Ã³ tháº±ng dÃ nh cho tin nháº¯n cÃ³ tÃªn má»Ÿ Ä‘áº§u lÃ  chat?region=â€¦.. Báº¥m vÃ o ta sáº½ tháº¥y Ä‘Æ°á»£c má»i luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong káº¿t ná»‘i websocket áº¥y.

PhÃ¢n tÃ­ch dá»¯ liá»‡u tin nháº¯n
CÃ³ ráº¥t nhiá»u luá»“ng dá»¯ liá»‡u tá»›i vÃ  Ä‘i trong websocket chat nÃ y, náº¿u chÃºng ta thá»­ gá»­i 1 tin cho ngÆ°á»i khÃ¡c, nÃ³ sáº½ táº¡o 1 luá»“ng gá»­i Ä‘i, cÃ²n ngÆ°á»i khÃ¡c gá»­i cho mÃ¬nh, sáº½ cÃ³ 1 luá»“ng gá»­i vá».

Dá»¯ liá»‡u trong má»—i luá»“ng máº·c Ä‘á»‹nh hiá»ƒn thá»‹ dÆ°á»›i dáº¡ng base64, chÃºng lÃ  cÃ³ thá»ƒ chuyá»ƒn vá» utf8 Ä‘á»ƒ dá»… Ä‘á»c hÆ¡n (tháº¥y nÃ³ giá»‘ng chuá»—i json hÆ¡n thÃ´i chá»© váº«n khÃ³ Ä‘á»c láº¯m ğŸ˜‚).

Náº¿u tÃ¬m ká»¹ chÃºng ta sáº½ tháº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n, vÃ  tháº­t may lÃ  khÃ´ng bá»‹ mÃ£ hÃ³a gÃ¬ khÃ¡c ná»¯a cáº£ ğŸ¥¸. OKE tiáº¿p theo Ä‘á»ƒ cho tiá»‡n thÃ¬ ta táº¡o 1 regex giÃºp ta láº¥y Ä‘Æ°á»£c Ä‘oáº¡n tin nháº¯n Ä‘Ã³ ra khá»i chuá»—i dá»¯ liá»‡u, mÃ¬nh dÃ¹ng web regexr.com Ä‘á»ƒ táº¡o regex cho láº¹.

**~ 2 thousand years later ....**

Pháº£i Ä‘i há»c láº¡i khÃ³a regex má»›i Ä‘Æ°á»£c ğŸ˜¢ğŸ˜¢ğŸ˜¢

**YAY** Ä‘Ã£ láº¥y Ä‘Æ°á»£c ná»™i dung tin nháº¯n ra khá»i luá»“ng dá»¯ liá»‡u rá»“i. Giá» Ä‘á»ƒ má»i thá»© Ä‘Æ°á»£c tá»± Ä‘á»™ng, hÃ£y táº¡o extension.

Táº¡o extension
MÃ¬nh tÃ¬m hiá»ƒu cÃ¡ch lÃ m extension á»Ÿ https://topdev.vn/blog/cach-build-chrome-extension/ káº¿t há»£p vá»›i ngáº«m code cá»§a KB2A Tool.

Váº¥n Ä‘á» chÃ­nh bÃ¢y giá» Ä‘Ã³ lÃ  lÃ m sao Ä‘á»ƒ cÃ³ thá»ƒ láº¯ng nghe websocket cá»§a fb. Má»—i biáº¿n websocket Ä‘Æ°á»£c táº¡o ra sáº½ lÃ  1 biáº¿n local riÃªng biá»‡t, khÃ´ng pháº£i biáº¿n toÃ n cá»¥c, khÃ´ng thá»ƒ truy cáº­p Ä‘Æ°á»£c tá»« bÃªn ngoÃ i.

Sau khi tu luyá»‡n báº±ng source code KB2A Tool, thÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m ra chÃ¢n lÃ½. Máº¥y báº¡n áº¥y táº¡o 1 Ä‘oáº¡n script, vÃ  cho nÃ³ cháº¡y trÆ°á»›c khi trang fb cháº¡y (run at document_start). Äoáº¡n script nÃ y sáº½ táº¡o ra 1 biáº¿n window.WebSocket **GIáº¢**, trong Ä‘Ã³ chÃ¨n code láº¯ng nghe sá»± kiá»‡n.

Khi trang facebook báº¯t Ä‘áº§u cháº¡y, nÃ³ sáº½ dÃ¹ng tháº±ng **GIáº¢** nÃ y Ä‘á»ƒ táº¡o biáº¿n websocket local cho riÃªng nÃ³ Ä‘á»ƒ dÃ¹ng. NhÆ°ng do Ä‘Ã£ bá»‹ **LÃ€M GIáº¢** tá»« trÆ°á»›c, nÃªn trong biáº¿n local Ä‘Ã³ Ä‘Ã£ cÃ³ sáºµn code láº¯ng nghe sá»± kiá»‡n cá»§a ta. BÃ™MMM ğŸ˜‚ğŸ˜‚ğŸ¤¯ğŸ¤¯

Váº­y lÃ  má»i Ã½ tÆ°á»Ÿng Ä‘Ã£ hoÃ n thÃ nh. MÃ¬nh Ä‘Ã£ thá»±c hiá»‡n vÃ  chia sáº» source code vá»›i má»i ngÆ°á»i táº¡i github https://github.com/HoangTran0410/RevealDeletedFBMessages

Náº¿u tháº¥y hay thÃ¬ má»i ngÆ°á»i hÃ£y star/folk project Ä‘á»ƒ nháº­n Ä‘Æ°á»£c thÃ´ng bÃ¡o cáº­p nháº­t má»›i nháº¥t nhÃ©.

p/s: MÃ¬nh sáº½ thÃªm áº£nh tá»«ng bÆ°á»›c vÃ  hÆ°á»›ng dáº«n chi tiáº¿t trong tá»«ng áº£nh nhÃ©..","['cháº¡y rá»“i cháº¡y rá»“i :)))) má»i ngÆ°á»i sáº¯p Ä‘Æ°á»£c dÃ¹ng extension ngon rá»“i, giá» chá»‰nh láº¡i giao diá»‡n cho Ä‘áº¹p lÃ  lÃªn ká»‡ Ä‘Æ°á»£c rá»“i nhÃ©', 'version 2 ra rá»“i nhÃ©: https://www.facebook.com/groups/j2team.community/posts/1651683238497123']",Hoang Tran pháº£i cÃ i extension nÃ y trc khi xoÃ¡ Ä‘Ãºng k anh? Chá»© xoÃ¡ r cÃ i Ä‘Ã¢u dÃ¹ng Ä‘c Ä‘Ã¢u háº£,1
